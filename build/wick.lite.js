var wl=function(){"use strict";const t="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:t=>{setTimeout(t,1)},s="undefined"==typeof performance?{now:()=>Date.now()}:performance;const n=new class{constructor(){this.update_queue_a=[],this.update_queue_b=[],this.update_queue=this.update_queue_a,this.queue_switch=0,this.callback=()=>{},"undefined"!=typeof window?window.addEventListener("load",()=>{this.callback=()=>this.update(),t(this.callback)}):this.callback=()=>this.update(),this.frame_time=s.now(),this.SCHEDULE_PENDING=!1}queueUpdate(e,i=1,r=0){if(e._SCHD_||e._SCHD_>0)return this.SCHEDULE_PENDING?void 0:t(this.callback);e._SCHD_=65535&i|r<<16,this.update_queue.push(e),this._SCHD_||(this.frame_time=0|s.now(),this.SCHEDULE_PENDING||(this.SCHEDULE_PENDING=!0,t(this.callback)))}removeFromQueue(t){if(t._SCHD_)for(let e=0,s=this.update_queue.length;e<s;e++)if(this.update_queue[e]===t)return this.update_queue.splice(e,1),t._SCHD_=0,void(1==s&&(this.SCHEDULE_PENDING=!1))}update(){this.SCHEDULE_PENDING=!1;const t=this.update_queue,e=0|s.now(),i=1|Math.ceil(e-this.frame_time),r=.06*i;this.frame_time=e,0==this.queue_switch?(this.update_queue=this.update_queue_b,this.queue_switch=1):(this.update_queue=this.update_queue_a,this.queue_switch=0);for(let e=0,s=t.length,n=t[0];e<s;n=t[++e]){let t=(65535&n._SCHD_)-i,e=n._SCHD_>>16&65535;if(n._SCHD_=0,t>0)this.queueUpdate(n,t,e);else{t=0,e>0&&this.queueUpdate(n,t,e-i);try{n.scheduledUpdate(r,i)}catch(t){console.error(t)}}}t.length=0}},o=[170,181,186,748,750,895,902,908,1369,1749,1791,1808,1969,2042,2074,2084,2088,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3782,3840,4159,4193,4238,4295,4301,4696,4800,6103,6108,6314,6823,7418,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,11823,13312,19893,19968,40943,43259,43471,43642,43697,43712,43714,44032,55203,64285,64318,67592,67644,68096,69415,69956,70006,70106,70108,70280,70461,70480,70751,70855,71236,71352,71935,72161,72163,72192,72250,72272,72349,72768,73030,73112,94032,94179,94208,100343,119970,119995,120134,123214,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590,131072,173782,173824,177972,177984,178205,178208,183969,183984,191456],a=[65,90,97,122,192,214,216,246,248,705,710,721,736,740,880,884,886,887,890,893,904,906,910,929,931,1013,1015,1153,1162,1327,1329,1366,1376,1416,1488,1514,1519,1522,1568,1610,1646,1647,1649,1747,1765,1766,1774,1775,1786,1788,1810,1839,1869,1957,1994,2026,2036,2037,2048,2069,2112,2136,2144,2154,2208,2228,2230,2237,2308,2361,2392,2401,2417,2432,2437,2444,2447,2448,2451,2472,2474,2480,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2974,2975,2979,2980,2984,2986,2990,3001,3077,3084,3086,3088,3090,3112,3114,3129,3160,3162,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3412,3414,3423,3425,3450,3455,3461,3478,3482,3505,3507,3515,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3718,3722,3724,3747,3751,3760,3762,3763,3776,3780,3804,3807,3904,3911,3913,3948,3976,3980,4096,4138,4176,4181,4186,4189,4197,4198,4206,4208,4213,4225,4256,4293,4304,4346,4348,4680,4682,4685,4688,4694,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6176,6264,6272,6276,6279,6312,6320,6389,6400,6430,6480,6509,6512,6516,6528,6571,6576,6601,6656,6678,6688,6740,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7296,7304,7312,7354,7357,7359,7401,7404,7406,7411,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8031,8061,8064,8116,8118,8124,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8336,8348,8458,8467,8473,8477,8490,8493,8495,8505,8508,8511,8517,8521,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11568,11623,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12730,12784,12799,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42653,42656,42735,42775,42783,42786,42888,42891,42943,42946,42950,42999,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43261,43262,43274,43301,43312,43334,43360,43388,43396,43442,43488,43492,43494,43503,43514,43518,43520,43560,43584,43586,43588,43595,43616,43638,43646,43695,43701,43702,43705,43709,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43879,43888,44002,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64287,64296,64298,64310,64312,64316,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66335,66349,66378,66384,66421,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66736,66771,66776,66811,66816,66855,66864,66915,67072,67382,67392,67413,67424,67431,67584,67589,67594,67637,67639,67640,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68112,68115,68117,68119,68121,68149,68192,68220,68224,68252,68288,68295,68297,68324,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68899,69376,69404,69424,69445,69600,69622,69635,69687,69763,69807,69840,69864,69891,69926,69968,70002,70019,70066,70081,70084,70144,70161,70163,70187,70272,70278,70282,70285,70287,70301,70303,70312,70320,70366,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70493,70497,70656,70708,70727,70730,70784,70831,70852,70853,71040,71086,71128,71131,71168,71215,71296,71338,71424,71450,71680,71723,71840,71903,72096,72103,72106,72144,72203,72242,72284,72329,72384,72440,72704,72712,72714,72750,72818,72847,72960,72966,72968,72969,72971,73008,73056,73061,73063,73064,73066,73097,73440,73458,73728,74649,74752,74862,74880,75075,77824,78894,82944,83526,92160,92728,92736,92766,92880,92909,92928,92975,92992,92995,93027,93047,93053,93071,93760,93823,93952,94026,94099,94111,94176,94177,100352,101106,110592,110878,110928,110930,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,119808,119892,119894,119964,119966,119967,119973,119974,119977,119980,119982,119993,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,123136,123180,123191,123197,123584,123627,124928,125124,125184,125251,126464,126467,126469,126495,126497,126498,126505,126514,126516,126519,126541,126543,126545,126546,126561,126562,126567,126570,126572,126578,126580,126583,126585,126588,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651],h=new Uint16Array(1e5);function l(t,e,...s){for(const i of s)t[i]|=e}function c(t,e,...s){for(const i of s.reduce((t,e,s)=>(s%2?t[t.length-1].push(e):t.push([e]),t),[])){const s=i[1]+1-i[0],r=[];for(let t=0;t<s;t++)r[t]=i[0]+t;l(t,e,...r)}}h.fill(0),c(h,1,...a),l(h,1,...o),l(h,2,34,39,96),l(h,3,32),l(h,4,9),l(h,5,13),l(h,6,10),c(h,7,48,57),l(h,8,33,37,38,42,43,58,60,61,62),l(h,9,40,91,123),l(h,10,41,93,125),l(h,11,16),c(h,512,65,90,97,122),c(h,512,...a),l(h,512,...o),c(h,512,48,57,768,879,1155,1159,1425,1469,1473,1474,1476,1477,1552,1562,1611,1641,1750,1756,1759,1764,1767,1768,1770,1773,1776,1785,1840,1866,1958,1968,1984,1993,2027,2035,2070,2073,2075,2083,2085,2087,2089,2093,2137,2139,2259,2273,2275,2307,2362,2364,2366,2383,2385,2391,2402,2403,2406,2415,2433,2435,2494,2500,2503,2504,2507,2509,2530,2531,2534,2543,2561,2563,2622,2626,2631,2632,2635,2637,2662,2673,2689,2691,2750,2757,2759,2761,2763,2765,2786,2787,2790,2799,2810,2815,2817,2819,2878,2884,2887,2888,2891,2893,2902,2903,2914,2915,2918,2927,3006,3010,3014,3016,3018,3021,3046,3055,3072,3076,3134,3140,3142,3144,3146,3149,3157,3158,3170,3171,3174,3183,3201,3203,3262,3268,3270,3272,3274,3277,3285,3286,3298,3299,3302,3311,3328,3331,3387,3388,3390,3396,3398,3400,3402,3405,3426,3427,3430,3439,3458,3459,3535,3540,3544,3551,3558,3567,3570,3571,3636,3642,3655,3662,3664,3673,3764,3772,3784,3789,3792,3801,3864,3865,3872,3881,3902,3903,3953,3972,3974,3975,3981,3991,3993,4028,4139,4158,4160,4169,4182,4185,4190,4192,4194,4196,4199,4205,4209,4212,4226,4237,4239,4253,4957,4959,5906,5908,5938,5940,5970,5971,6002,6003,6068,6099,6112,6121,6155,6157,6160,6169,6277,6278,6432,6443,6448,6459,6470,6479,6608,6617,6679,6683,6741,6750,6752,6780,6783,6793,6800,6809,6832,6845,6912,6916,6964,6980,6992,7001,7019,7027,7040,7042,7073,7085,7088,7097,7142,7155,7204,7223,7232,7241,7248,7257,7376,7378,7380,7400,7415,7417,7616,7673,7675,7679,8255,8256,8400,8412,8421,8432,11503,11505,11744,11775,12330,12335,12441,12442,42528,42537,42612,42621,42654,42655,42736,42737,43043,43047,43136,43137,43188,43205,43216,43225,43232,43249,43263,43273,43302,43309,43335,43347,43392,43395,43443,43456,43472,43481,43504,43513,43561,43574,43596,43597,43600,43609,43643,43645,43698,43700,43703,43704,43710,43711,43755,43759,43765,43766,44003,44010,44012,44013,44016,44025,65024,65039,65056,65071,65075,65076,65101,65103,65296,65305,66422,66426,66720,66729,68097,68099,68101,68102,68108,68111,68152,68154,68325,68326,68900,68903,68912,68921,69446,69456,69632,69634,69688,69702,69734,69743,69759,69762,69808,69818,69872,69881,69888,69890,69927,69940,69942,69951,69957,69958,70016,70018,70067,70080,70089,70092,70096,70105,70188,70199,70367,70378,70384,70393,70400,70403,70459,70460,70462,70468,70471,70472,70475,70477,70498,70499,70502,70508,70512,70516,70709,70726,70736,70745,70832,70851,70864,70873,71087,71093,71096,71104,71132,71133,71216,71232,71248,71257,71339,71351,71360,71369,71453,71467,71472,71481,71724,71738,71904,71913,72145,72151,72154,72160,72193,72202,72243,72249,72251,72254,72273,72283,72330,72345,72751,72758,72760,72767,72784,72793,72850,72871,72873,72886,73009,73014,73020,73021,73023,73029,73040,73049,73098,73102,73104,73105,73107,73111,73120,73129,73459,73462,92768,92777,92912,92916,92976,92982,93008,93017,94033,94087,94095,94098,113821,113822,119141,119145,119149,119154,119163,119170,119173,119179,119210,119213,119362,119364,120782,120831,121344,121398,121403,121452,121499,121503,121505,121519,122880,122886,122888,122904,122907,122913,122915,122916,122918,122922,123184,123190,123200,123209,123628,123641,125136,125142,125252,125258,125264,125273),l(h,512,95,1471,1479,1648,1809,2045,2492,2519,2558,2620,2641,2677,2748,2876,2946,3031,3260,3415,3530,3542,3633,3761,3893,3895,3897,4038,6109,6313,7405,7412,8276,8417,11647,42607,43010,43014,43019,43493,43587,43696,43713,64286,65343,66045,66272,68159,70003,70206,70487,70750,72164,72263,73018,73031,94031,121461,121476),c(h,2048,48,57);const u=h.slice();u[45]|=512,u[95]|=512;const p={num:1,number:1,id:2,identifier:2,str:4,string:4,ws:8,white_space:8,ob:16,open_bracket:16,cb:32,close_bracket:32,op:64,operator:64,sym:128,symbol:128,nl:256,new_line:256,dl:512,data_link:512,alpha_numeric:3,white_space_new_line:264},d=[0,1,28,2,29,14,24,3,30,22,20,15,25,17,4,8,31,27,13,23,21,19,16,7,26,12,18,6,11,5,10,9];class f{constructor(t="",e=!1,s=!1){if("string"!=typeof t)throw new Error(`String value must be passed to Lexer. A ${typeof t} was passed as the \`string\` argument.`);this.str=t,this.p=null,this.type=32768,this.off=0,this.masked_values=0,this.char=0,this.line=0,this.sl=t.length,this.tl=0,this.IWS=!e,this.USE_EXTENDED_ID=!1,this.PARSE_STRING=!1,this.id_lu=h,s||this.next()}useExtendedId(){return this.id_lu=u,this.tl=0,this.next(),this}fence(t=this){if(t.str===this.str)return this.sl=t.off,this}copy(t=new f(this.str,!1,!0)){return t.off=this.off,t.char=this.char,t.line=this.line,t.sl=this.sl,t.masked_values=this.masked_values,t.id_lu=this.id_lu,t}sync(t=this.p){if(t instanceof f){if(t.str!==this.str)throw new Error("Cannot sync Lexers with different strings!");this.off=t.off,this.char=t.char,this.line=t.line,this.masked_values=t.masked_values}return this}errorMessage(t=""){const e=this.copy();for(e.IWS=!1;!e.END&&e.ty!==p.nl;)e.next();const s=e.END?this.str.length:e.off,i=this.line>0?1:0,r=this.str.slice(this.off-this.char+i+i,this.off+i).split("").reduce((t,e)=>t+(9==e.charCodeAt(0)|0),0),n=String.fromCharCode(11145),o=String.fromCharCode(9472),a=String.fromCharCode(9473),h=`    ${this.line+1}: `,l=h.length+r,c=this.str.slice(this.off-this.char+i+i,s).replace(/\t/g,"  "),u=a.repeat(c.length+h.length+2),d=this.IWS?"":"\n The Lexer produced whitespace tokens";return[`${t} at ${this.line+1}:${this.char-i}`,`${u}`,`${h+c}`,`${o.repeat(this.char-i+l-i)+n}`,`${u}`,`${d}`].join("\n")}throw(t,e=!1){const s=new Error(this.errorMessage(t));if(e)return s;throw s}r(){return this.reset()}reset(){return this.p=null,this.type=32768,this.off=0,this.tl=0,this.char=0,this.line=0,this.n,this}resetHead(){this.off=0,this.tl=0,this.char=0,this.line=0,this.p=null,this.type=32768}next(t=this,e=!!this.symbol_map){if(t.sl<1)return t.off=0,t.type=32768,t.tl=0,t.line=0,t.char=0,t;const s=t.sl,i=t.str,r=this.id_lu,n=t.IWS;let o=t.tl,a=t.off+o,h=128,l=t.line,c=a,u=t.char,p=t.off;if(a>=s)return o=0,c=s,t.char=u+(c-t.off),t.type=h,t.off=c,t.tl=0,t.line=l,t;let d=!0;if(e){let t,e=i.charCodeAt(a),s=a,r=this.symbol_map;for(;32==e&&n;)e=i.charCodeAt(++s),a++;for(;t=r.get(e);)r=t,s+=1,e=i.charCodeAt(s);r.IS_SYM&&(d=!1,c=a,o=s-a)}for(;d;){c=a,o=1;const e=i.codePointAt(a);switch(255&r[e]){case 0:h=128;break;case 1:for(;++a<s&&10&r[i.codePointAt(a)]>>8;);h=2,o=a-c;break;case 2:if(this.PARSE_STRING)h=128;else{for(;++a<s&&i.codePointAt(a)!==e;);h=4,o=a-c+1}break;case 3:for(;++a<s&&32===i.codePointAt(a););h=8,o=a-c;break;case 4:for(;++a<s&&9===i[a];);h=8,o=a-c;break;case 5:o=2;case 6:h=256,l++,c=a,p=a,a+=o,u=0;break;case 7:for(;++a<s&&12&r[i.codePointAt(a)]>>8;);("e"==i[a]||"E"==i[a])&&12&r[i.codePointAt(a+1)]>>8&&(a++,"-"==i[a]&&a++,t.off=a,t.tl=0,t.next(),a=t.off+t.tl),h=1,o=a-c;break;case 8:h=64;break;case 9:h=16;break;case 10:h=32;break;case 11:h=512,o=4}if(n&&264&h){if(a<s){h=128;continue}c=s-a,t.sl-=a,o=0}break}return t.type=h,t.off=c,t.tl=64&this.masked_values?Math.min(1,o):o,t.char=u+c-p,t.line=l,t}a(t){return this.assert(t)}assert(t){return this.off<0&&this.throw(`Expecting ${t} got null`),this.text==t?this.next():this.throw(`Expecting "${t}" got "${this.text}"`),this}aC(t){return this.assertCharacter(t)}assertCharacter(t){return this.off<0&&this.throw(`Expecting ${t[0]} got null`),this.ch==t[0]?this.next():this.throw(`Expecting "${t[0]}" got "${this.tx[this.off]}"`),this}peek(t=this,e=this.p){if(!e){if(!t)return null;this.p||(this.p=new f(this.str,!1,!0),e=this.p)}return e.masked_values=t.masked_values,e.type=t.type,e.off=t.off,e.tl=t.tl,e.char=t.char,e.line=t.line,this.next(e),e}s(t){return this.slice(t)}slice(t=this.off){return t instanceof f&&(t=t.off),this.str.slice(t,this.off<=t?this.sl:this.off)}comment(t=!1,e=this){if(!(e instanceof f))return e;if("/"==e.ch)if("*"==e.pk.ch){for(e.sync();!e.END&&("*"!=e.next().ch||"/"!=e.pk.ch););e.sync().assert("/")}else if("/"==e.pk.ch){const t=e.IWS;for(;e.next().ty!=p.new_line&&!e.END;);e.IWS=t,e.next()}else t&&e.throw("Expecting the start of a comment");return e}setString(t,e=!0){this.str=t,this.sl=t.length,e&&this.resetHead()}toString(){return this.slice()}trim(t=0,e=t){const s=this.copy();let i=0,r=s.off;for(;s.off<s.sl;s.off++){const e=h[s.string.charCodeAt(s.off)];if(!(e>2&&e<7))break;i>=t?r++:i++}for(s.off=r,i=0,r=s.sl;s.sl>s.off;s.sl--){const t=h[s.string.charCodeAt(s.sl-1)];if(!(t>2&&t<7))break;i>=e?r--:i++}return s.sl=r,t>0&&(s.IWS=!1),s.token_length=0,s.next(),s}addSymbol(t){this.symbol_map||(this.symbol_map=new Map);let e=this.symbol_map;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s),r=e.get(i);r||(r=e.set(i,new Map).get(i)),e=r}e.IS_SYM=!0}get string(){return this.str}get string_length(){return this.sl-this.off}set string_length(t){}get token(){return this.copy()}get ch(){return this.str[this.off]}get tx(){return this.text}get text(){return this.off<0?"":this.str.slice(this.off,this.off+this.tl)}get ty(){return this.type}get pos(){return this.off}get pk(){return this.peek()}get n(){return this.next()}get END(){return this.off>=this.sl}set END(t){}get type(){return 1<<(15&this.masked_values)}set type(t){this.masked_values=-16&this.masked_values|15&(t=>d[125613361*t>>>27])(t)}get tl(){return this.token_length}set tl(t){this.token_length=t}get token_length(){return(4294967168&this.masked_values)>>7}set token_length(t){this.masked_values=127&this.masked_values|4294967168&(t<<7|0)}get IGNORE_WHITE_SPACE(){return this.IWS}set IGNORE_WHITE_SPACE(t){this.iws=!!t}get CHARACTERS_ONLY(){return!!(64&this.masked_values)}set CHARACTERS_ONLY(t){this.masked_values=-65&this.masked_values|(0|t)<<6}get IWS(){return!!(32&this.masked_values)}set IWS(t){this.masked_values=-33&this.masked_values|(0|t)<<5}get PARSE_STRING(){return!!(16&this.masked_values)}set PARSE_STRING(t){this.masked_values=-17&this.masked_values|(0|t)<<4}get types(){return p}}function g(t,e=!1){return new f(t,e)}f.prototype.addCharacter=f.prototype.addSymbol,g.constructor=f,f.types=p,g.types=p;class _ extends Float64Array{constructor(t,e,s,i=0){super(4),this.r=0,this.g=0,this.b=0,this.a=1,"number"==typeof t&&(this.r=t,this.g=e,this.b=s,this.a=i)}get r(){return this[0]}set r(t){this[0]=t}get g(){return this[1]}set g(t){this[1]=t}get b(){return this[2]}set b(t){this[2]=t}get a(){return this[3]}set a(t){this[3]=t}set(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=null!=t.a?t.a:this.a}add(t){return new _(t.r+this.r,t.g+this.g,t.b+this.b,t.a+this.a)}mult(t){return"number"==typeof t?new _(this.r*t,this.g*t,this.b*t,this.a*t):new _(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}sub(t){return new _(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}lerp(t,e){return this.add(t.sub(this).mult(e))}toString(){return`rgba(${0|this.r},${0|this.g},${0|this.b},${this.a})`}toJSON(){return`rgba(${0|this.r},${0|this.g},${0|this.b},${this.a})`}copy(t){return new _(t)}}class m extends _{static parse(t){let e=m._fs_(t);if(e){let t=new m;return t.set(e),t}return null}static _verify_(t){return!!m._fs_(t,!0)}static _fs_(t,e=!1){let s;"string"==typeof t&&(t=g(t));let i={r:0,g:0,b:0,a:1};switch(t.ch){case"#":t.next();let e=t.copy(),n=t.types;for(e.IWS=!1;!(e.ty&(n.newline|n.ws)||e.END||";"===e.ch);)e.next();var r=e.slice(t);t.sync(e),t.tl=0,t.next();let o=parseInt(r,16);if(3==r.length||4==r.length){if(4==r.length){const t=o>>8&15;i.a=t|t<<4,o>>=4}const t=o>>8&15;i.r=t|t<<4;const e=o>>4&15;i.g=e|e<<4;const s=15&o;i.b=s|s<<4}else 8==r.length&&(i.a=255&o,o>>=8),i.r=o>>16&255,i.g=o>>8&255,i.b=255&o;t.next();break;case"r":let a=t.tx;const h="rgba"===a?1:"rgb"===a?2:0;if(h>0)return t.next(),i.r=parseInt(t.next().tx),t.next(),"%"==t.ch&&(t.next(),i.r=255*i.r/100),i.g=parseInt(t.next().tx),t.next(),"%"==t.ch&&(t.next(),i.g=255*i.g/100),i.b=parseInt(t.next().tx),t.next(),"%"==t.ch&&(t.next(),i.b=255*i.b/100),h<2&&(i.a=parseFloat(t.next().tx),t.next(),"%"==t.ch&&(t.next(),i.a=255*i.a/100)),t.a(")"),s=new m,s.set(i),s;default:let l=t.tx;t.ty==t.types.str&&(l=l.slice(1,-1)),i=m.colors[l.toLowerCase()],i&&t.next()}return i}constructor(t,e,s,i){super(t,e,s,i),"string"==typeof t&&this.set(m._fs_(t)||{r:255,g:255,b:255,a:0})}toString(){return 1!==this.a?this.toRGBString():`#${("0"+this.r.toString(16)).slice(-2)}${("0"+this.g.toString(16)).slice(-2)}${("0"+this.b.toString(16)).slice(-2)}`}toRGBString(){return`rgba(${this.r.toString()},${this.g.toString()},${this.b.toString()},${this.a.toString()})`}}{let t=(t=0,e=0,s=0,i=1)=>({r:t,g:e,b:s,a:i}),e=t(0,255,25);m.colors={"alice blue":t(240,248,255),"antique white":t(250,235,215),"aqua marine":t(127,255,212),aqua:e,azure:t(240,255,255),beige:t(245,245,220),bisque:t(255,228,196),black:t(),"blanched almond":t(255,235,205),"blue violet":t(138,43,226),blue:t(0,0,255),brown:t(165,42,42),"burly wood":t(222,184,135),"cadet blue":t(95,158,160),"chart reuse":t(127,255),chocolate:t(210,105,30),clear:t(255,255,255),coral:t(255,127,80),"corn flower blue":t(100,149,237),"corn silk":t(255,248,220),crimson:t(220,20,60),cyan:e,"dark blue":t(0,0,139),"dark cyan":t(0,139,139),"dark golden rod":t(184,134,11),"dark gray":t(169,169,169),"dark green":t(0,100),"dark khaki":t(189,183,107),"dark magenta":t(139,0,139),"dark olive green":t(85,107,47),"dark orange":t(255,140),"dark orchid":t(153,50,204),"dark red":t(139),"dark salmon":t(233,150,122),"dark sea green":t(143,188,143),"dark slate blue":t(72,61,139),"dark slate gray":t(47,79,79),"dark turquoise":t(0,206,209),"dark violet":t(148,0,211),"deep pink":t(255,20,147),"deep sky blue":t(0,191,255),"dim gray":t(105,105,105),"dodger blue":t(30,144,255),firebrick:t(178,34,34),"floral white":t(255,250,240),"forest green":t(34,139,34),fuchsia:t(255,0,255),gainsboro:t(220,220,220),"ghost white":t(248,248,255),gold:t(255,215),"golden rod":t(218,165,32),gray:t(128,128,128),"green yellow":t(173,255,47),green:t(0,128),honeydew:t(240,255,240),"hot pink":t(255,105,180),"indian red":t(205,92,92),indigo:t(75,0,130),ivory:t(255,255,240),khaki:t(240,230,140),"lavender blush":t(255,240,245),lavender:t(230,230,250),"lawn green":t(124,252),"lemon chiffon":t(255,250,205),"light blue":t(173,216,230),"light coral":t(240,128,128),"light cyan":t(224,255,255),"light golden rod yellow":t(250,250,210),"light gray":t(211,211,211),"light green":t(144,238,144),"light pink":t(255,182,193),"light salmon":t(255,160,122),"light sea green":t(32,178,170),"light sky blue":t(135,206,250),"light slate gray":t(119,136,153),"light steel blue":t(176,196,222),"light yellow":t(255,255,224),"lime green":t(50,205,50),lime:t(0,255),lime:t(0,255),linen:t(250,240,230),magenta:t(255,0,255),maroon:t(128),"medium aqua marine":t(102,205,170),"medium blue":t(0,0,205),"medium orchid":t(186,85,211),"medium purple":t(147,112,219),"medium sea green":t(60,179,113),"medium slate blue":t(123,104,238),"medium spring green":t(0,250,154),"medium turquoise":t(72,209,204),"medium violet red":t(199,21,133),"midnight blue":t(25,25,112),"mint cream":t(245,255,250),"misty rose":t(255,228,225),moccasin:t(255,228,181),"navajo white":t(255,222,173),navy:t(0,0,128),"old lace":t(253,245,230),"olive drab":t(107,142,35),olive:t(128,128),"orange red":t(255,69),orange:t(255,165),orchid:t(218,112,214),"pale golden rod":t(238,232,170),"pale green":t(152,251,152),"pale turquoise":t(175,238,238),"pale violet red":t(219,112,147),"papaya whip":t(255,239,213),"peach puff":t(255,218,185),peru:t(205,133,63),pink:t(255,192,203),plum:t(221,160,221),"powder blue":t(176,224,230),purple:t(128,0,128),red:t(255),"rosy brown":t(188,143,143),"royal blue":t(65,105,225),"saddle brown":t(139,69,19),salmon:t(250,128,114),"sandy brown":t(244,164,96),"sea green":t(46,139,87),"sea shell":t(255,245,238),sienna:t(160,82,45),silver:t(192,192,192),"sky blue":t(135,206,235),"slate blue":t(106,90,205),"slate gray":t(112,128,144),snow:t(255,250,250),"spring green":t(0,255,127),"steel blue":t(70,130,180),tan:t(210,180,140),teal:t(0,128,128),thistle:t(216,191,216),tomato:t(255,99,71),transparent:t(0,0,0,0),turquoise:t(64,224,208),violet:t(238,130,238),wheat:t(245,222,179),"white smoke":t(245,245,245),white:t(255,255,255),"yellow green":t(154,205,50),yellow:t(255,255)}}class y extends Number{static parse(t,e,s){let i=t.tx,r=t.pk.ty;if(t.ty==t.types.num||"-"==i&&r==t.types.num){let e=1;if("-"==t.ch&&(e=-1,i=t.p.tx,t.p.next()),"%"==t.p.ch)return t.sync().next(),new y(parseFloat(i)*e)}return null}static _verify_(t){return!("string"!=typeof t||isNaN(parseInt(t))||!t.includes("%"))}constructor(t){if("string"==typeof t){let e=whind(t),s=y.parse(e);if(s)return s}super(t)}toJSON(){return super.toString()+"%"}toString(t){return super.toString(t)+"%"}get str(){return this.toString()}lerp(t,e){return new y(this+(t-this)*e)}copy(t){return new y(t)}get type(){return"%"}}y.label_name="Percentage";class b extends Number{static parse(t){let e=t.tx,s=t.pk.ty;if(t.ty==t.types.num||"-"==e&&s==t.types.num){let s=1;if("-"==t.ch&&(s=-1,e=t.p.tx,t.p.next()),t.p.ty==t.types.id){let i=t.sync().tx;return t.next(),new b(parseFloat(e)*s,i)}}return null}static _verify_(t){return"string"==typeof t&&!isNaN(parseInt(t))&&!t.includes("%")}constructor(t,e=""){if("string"==typeof t){let e=g(t),s=b.parse(e);if(s)return s}if(e)switch(e){case"px":return new w(t);case"mm":return new x(t);case"cm":return new v(t);case"in":return new k(t);case"pc":return new E(t);case"pt":return new S(t);case"ch":return new A(t);case"em":return new D(t);case"ex":return new N(t);case"rem":return new T(t);case"vh":return new O(t);case"vw":return new C(t);case"vmin":return new I(t);case"vmax":return new P(t);case"deg":return new R(t);case"%":return new y(t)}super(t)}get milliseconds(){switch(this.unit){case"s":return 1e3*parseFloat(this)}return parseFloat(this)}toString(t){return super.toString(t)+""+this.unit}toJSON(){return super.toString()+""+this.unit}get str(){return this.toString()}lerp(t,e){return new b(this+(t-this)*e,this.unit)}copy(t){return new b(t,this.unit)}set unit(t){}get unit(){return""}}class w extends b{get unit(){return"px"}}class x extends b{get unit(){return"mm"}}class v extends b{get unit(){return"cm"}}class k extends b{get unit(){return"in"}}class S extends b{get unit(){return"pt"}}class E extends b{get unit(){return"pc"}}class A extends b{get unit(){return"ch"}}class D extends b{get unit(){return"em"}}class N extends b{get unit(){return"ex"}}class T extends b{get unit(){return"rem"}}class O extends b{get unit(){return"vh"}}class C extends b{get unit(){return"vw"}}class I extends b{get unit(){return"vmin"}}class P extends b{get unit(){return"vmax"}}class R extends b{get unit(){return"deg"}}const M=/(?:([a-zA-Z][\dA-Za-z\+\.\-]*)(?:\:\/\/))?(?:([a-zA-Z][\dA-Za-z\+\.\-]*)(?:\:([^\<\>\:\?\[\]\@\/\#\b\s]*)?)?\@)?(?:(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|((?:\[[0-9a-f]{1,4})+(?:\:[0-9a-f]{0,4}){2,7}\])|([^\<\>\:\?\[\]\@\/\#\b\s\.]{2,}(?:\.[^\<\>\:\?\[\]\@\/\#\b\s]*)*))?(?:\:(\d+))?((?:[^\?\[\]\#\s\b]*)+)?(?:\?([^\[\]\#\s\b]*))?(?:\#([^\#\s\b]*))?/i,L={protocol:"",host:"",port:"",path:"",hash:"",query:"",search:""};function j(t){const e=q.G.host!==t.host&&!!t.host;return{IS_CORS:e,mode:e?"cors":"same-origin",credentials:e?"omit":"include"}}class q{static resolveRelative(t,e=(q.G?q.G:document.location.toString())){let s=e instanceof q?e:new q(e),i=t instanceof q?t:new q(t);if(!(s+""&&i+""))return null;if("/"!=i.path[0]){let t=s.path.split("/"),e=i.path.split("/");".."==e[0]&&t.splice(t.length-1,1);for(let s=0;s<e.length;s++)switch(e[s]){case"..":case".":t.splice(t.length-1,1);break;default:t.push(e[s])}i.path=t.join("/")}return i}constructor(t="",e=!1){let s=!0,i=!1,r="undefined"!=typeof document?document.location:L;if("undefined"!=typeof Location&&t instanceof Location&&(r=t,t="",i=!0),(!t||"string"!=typeof t)&&(s=!1,i=!0,q.GLOBAL&&e))return q.GLOBAL;if(this.protocol="",this.user="",this.pwd="",this.host="",this.port=0,this.path="",this.query="",this.hash="",this.map=null,s)if(t instanceof q)this.protocol=t.protocol,this.user=t.user,this.pwd=t.pwd,this.host=t.host,this.port=t.port,this.path=t.path,this.query=t.query,this.hash=t.hash;else{let s=t.match(M);if(s[0]!==t)return null;this.protocol=s[1]||(e?r.protocol:""),this.user=s[2]||"",this.pwd=s[3]||"",this.host=s[4]||s[5]||s[6]||(e?r.hostname:""),this.port=parseInt(s[7]||(e?r.port:0)),this.path=s[8]||(e?r.pathname:""),this.query=s[9]||(e?r.search.slice(1):""),this.hash=s[10]||(e?r.hash.slice(1):"")}else if(i&&r&&(this.protocol=r.protocol.replace(/\:/g,""),this.host=r.hostname,this.port=r.port,this.path=r.pathname,this.hash=r.hash.slice(1),this.query=r.search.slice(1),this._getQuery_(this.query),e))return q.G=this,q.R;this._getQuery_(this.query)}_getQuery_(){let t=this.map?this.map:this.map=new Map,e=g(this.query);const s=(t,e)=>e.has(t)?e.get(t):e.set(t,new Map).get(t);let i=0,r="",n=s(r,t),o=0;for(;!e.END;)switch(e.tx){case"&":o>0?(n.set(r,e.s(o)),o=0,i=e.n.pos):(r=e.s(i),n=s(r,t),i=e.n.pos);continue;case"=":r=e.s(i),o=e.n.pos;continue}o>0&&n.set(r,e.s(o))}setPath(t){return this.path=t,new q(this)}setLocation(){history.replaceState({},"replaced state",`${this}`),window.onpopstate()}toString(){let t=[];return this.host&&(this.protocol&&t.push(`${this.protocol}://`),t.push(`${this.host}`)),this.port&&t.push(`:${this.port}`),this.path&&t.push(`${"/"==this.path[0]||"."==this.path[0]?"":"/"}${this.path}`),this.query&&t.push(("?"==this.query[0]?"":"?")+this.query),this.hash&&t.push("#"+this.hash),t.join("")}getData(t=""){if(this.map){let e={},s=this.map.get(t);if(s){for(let[t,i]of s.entries())e[t]=i;return e}}return null}setData(t=null,e=""){if(t){let s=this.map=new Map,i=s.has(e)?s.get(e):s.set(e,new Map).get(e);for(let e in t)void 0!==t[e]&&"object"!=typeof t[e]?i.set(e,t[e]):i.delete(e);let r,n="";if((r=s.get(""))&&r.size>0)for(let[t,e]of r.entries())n+=`&${t}=${e}`;for(let[t,e]of s.entries())if(""!==t&&e.size>0){n+=`&${t}`;for(let[t,s]of e.entries())n+=`&${t}=${s}`}n=n.slice(1),this.query=this.query.split("?")[0]+"?"+n,q.G==this&&this.goto()}else this.query="";return this}fetchText(t=!0){if(t){let t=q.RC.get(this.path);if(t)return new Promise(e=>{e(t)})}return(e=this,new Promise((t,s)=>{fetch(e+"",Object.assign({method:"GET"},j(e))).then(e=>{e.status<200||e.status>299?e.text().then(s):e.text().then(t)}).catch(t=>s(t))})).then(t=>(q.RC.set(this.path,t),t));var e}fetchJSON(t=!0){if(t){let t=q.RC.get(this.path);if(t)return new Promise(e=>{e(t)})}return(e=this,new Promise((t,s)=>{fetch(e+"",Object.assign({method:"GET"},j(e))).then(e=>{e.status<200||e.status>299?e.json().then(s):e.json().then(t).catch(s)}).catch(t=>s(t))})).then(t=>(q.RC.set(this.path,t),t));var e}cacheResource(t){let e=q.RC.has(this.path);return q.RC.set(this.path,t),e}submitForm(t){return function(t,e,s="same-origin"){return new Promise((s,i)=>{var r;if(e instanceof FormData)r=e;else{r=new FormData;for(let t in e)r.append(t,e[t]+"")}fetch(t+"",Object.assign({method:"POST",body:r},j(t))).then(t=>{t.status<200||t.status>299?t.text().then(i):t.json().then(s)}).catch(t=>t.text().then(i))})}(this,t)}submitJSON(t,e){return function(t,e,s="same-origin"){return new Promise((s,i)=>{fetch(t+"",Object.assign({method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Accept:"application/json"}},j(t))).then(t=>{t.status<200||t.status>299?t.json().then(i):t.json().then(s)}).catch(t=>t.text().then(i))})}(this,t,e)}goto(){}get file(){return this.path.split("/").pop()}get filename(){return this.file.split(".").shift()}get dir(){return this.path.split("/").slice(0,-1).join("/")||"/"}get pathname(){return this.path}get href(){return this.toString()}get ext(){const t=this.path.match(/\.([^\.]*)$/);return t?t[1]:""}get search(){return this.query}}q.RC=new Map,q.G="undefined"!=typeof location?new q(location):null,q.R={get protocol(){return q.G.protocol},set protocol(t){},get user(){return q.G.user},set user(t){},get pwd(){return q.G.pwd},set pwd(t){},get host(){return q.G.host},set host(t){},get port(){return q.G.port},set port(t){},get path(){return q.G.path},set path(t){},get query(){return q.G.query},set query(t){},get hash(){return q.G.hash},set hash(t){},get map(){return q.G.map},set map(t){},setPath:t=>q.G.setPath(t),setLocation:()=>q.G.setLocation(),toString:()=>q.G.toString(),getData:(t="")=>q.G.getData(""),setData:(t="",e=null)=>q.G.setData(t,e),fetchText:(t=!0)=>q.G.fetchText(t),cacheResource:t=>q.G.cacheResource(t)};let $=null;q.simulate=function(){$=new Map,q.prototype.fetchText=async t=>(t=this.toString(),$.get(t)?$.get(t):""),q.prototype.fetchJSON=async t=>(t=this.toString(),$.get(t)?JSON.parse($.get(t).toString()):{})},q.addResource=(t,e)=>t&&e&&($||($=new Map))&&$.set(t.toString(),e.toString),q.polyfill=async function(){if("undefined"!=typeof global){const t=(await import("fs")).promises,e=await import("path"),s=await import("http");global.document=global.document||{},global.document.location=q.G,global.location=class extends q{},q.G=new q(process.cwd()+"/"),global.fetch=async(i,r)=>{if(console.log(i),r.IS_CORS)return new Promise(t=>{s.get(i,r,(e,s)=>{let i="";e.setEncoding("utf8"),e.on("data",t=>{i+=t}),e.on("end",()=>{t({status:200,text:()=>({then:t=>t(i)})})})})});{console.log(process.cwd(),i);let s=e.resolve(process.cwd(),""+i),r=await t.readFile(s,"utf8");try{return{status:200,text:()=>({then:t=>t(r)})}}catch(t){throw t}}}}},Object.freeze(q.R),Object.freeze(q.RC),Object.seal(q);class G extends q{static parse(t){if("url"==t.tx||"uri"==t.tx){t.next().a("(");let e="";if(t.ty==t.types.str)e=t.tx.slice(1,-1),t.next().a(")");else{const s=t.peek();for(;!s.END&&")"!==s.next().tx;);e=s.slice(t),t.sync().a(")")}return new G(e)}if(t.ty==t.types.str){let e=t.tx.slice(1,-1);return t.next(),new G(e)}return null}}class U extends String{static parse(t){if(t.ty==t.types.str){let e=t.tx;return t.next(),new U(e)}return null}constructor(t){super(t)}}class z extends String{static parse(t){if(t.ty==t.types.id){let e=t.tx;return t.next(),new z(e)}return null}}class F extends Array{static parse(t){if("inset"==t.tx||"circle"==t.tx||"ellipse"==t.tx||"polygon"==t.tx||"rect"==t.tx){t.next().a("(");let e="";if(t.ty==t.types.str)e=t.tx.slice(1,-1),t.next().a(")");else{let s=t.pk;for(;!s.END&&")"!==s.next().tx;);e=s.slice(t),t.sync().a(")")}return new F(e)}return null}}class H extends Number{static parse(t){let e=1;if("-"==t.ch&&t.pk.ty==t.types.num&&(t.sync(),e=-1),t.ty==t.types.num){let s=t.tx;return t.next(),new H(e*new Number(s))}return null}}class V extends Float64Array{constructor(t,e){if(super(2),"number"==typeof t)return this[0]=t,void(this[1]=e);t instanceof Array&&(this[0]=t[0],this[1]=t[1])}draw(t,e=1){t.beginPath(),t.moveTo(this.x*e,this.y*e),t.arc(this.x*e,this.y*e,.01*e,0,2*Math.PI),t.stroke()}get x(){return this[0]}set x(t){"number"==typeof t&&(this[0]=t)}get y(){return this[1]}set y(t){"number"==typeof t&&(this[1]=t)}}const B=Math.sqrt,Y=Math.cos,W=Math.acos,J=Math.PI,X=Math.pow;function Z(t){return t<0?-X(-t,1/3):X(t,1/3)}function Q(t,e,s,i,r){var n=1-t,o=n*n,a=t*t;return n*o*e+3*o*t*s+3*a*n*i+a*t*r}class K extends Float64Array{constructor(t,e,s,i,r,n,o,a){return super(8),4==arguments.length?(this[0]=0,this[1]=0,this[2]=t,this[3]=e,this[4]=s,this[5]=i,this[6]=1,void(this[7]=1)):"number"==typeof t?(this[0]=t,this[1]=e,this[2]=s,this[3]=i,this[4]=r,this[5]=n,this[6]=o,void(this[7]=a)):t instanceof Array?(this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],void(this[7]=t[4])):void 0}get x1(){return this[0]}set x1(t){this[0]=t}get x2(){return this[2]}set x2(t){this[2]=t}get x3(){return this[4]}set x3(t){this[4]=t}get x4(){return this[6]}set x4(t){this[6]=t}get y1(){return this[1]}set y1(t){this[1]=t}get y2(){return this[3]}set y2(t){this[3]=t}get y3(){return this[5]}set y3(t){this[5]=t}get y4(){return this[7]}set y4(t){this[7]=t}add(t,e=0){return new CCurve(this[0]+t,this[1]+e,this[2]+t,this[3]+e,this[4]+t,this[5]+e,this[6]+t,this[7]+e)}valY(t){return Q(t,this[1],this[3],this[5],this[7])}valX(t){return Q(t,this[0],this[2],this[4],this[6])}point(t){return new V(Q(t,this[0],this[2],this[4],this[6]),Q(t,this[1],this[3],this[5],this[7]))}roots(t,e,s,i){var r,n,o,a=3*e-t-3*s+i,h=(3*t-6*e+3*s)/a,l=(-3*t+3*e)/a,c=(3*l-h*h)/3,u=(2*h*h*h-9*h*l+27*(t/a))/27,p=u/2,d=p*p+(s=c/3)*s*s;if(d<0){var f=-c/3,g=B(f*f*f),_=-u/(2*g),m=W(_<-1?-1:_>1?1:_),y=2*Z(g);return n=y*Y(m/3)-h/3,o=y*Y((m+2*J)/3)-h/3,[y*Y((m+4*J)/3)-h/3,n,o]}if(0===d)return[o=-(r=p<0?Z(-p):-Z(p))-h/3,n=2*r-h/3];var b=B(d);return[n=(r=Z(b-p))-Z(b+p)-h/3]}rootsY(){return this.roots(this[1],this[3],this[5],this[7])}rootsX(){return this.roots(this[0],this[2],this[4],this[6])}getYatX(t){var e,s=this[0]-t,i=this[2]-t,r=3*i,n=3*s,o=3*(this[4]-t),a=1/(-s+r-o+(this[6]-t)),h=(n-6*i+o)*a,l=(-n+r)*a,c=1/3*(3*l-h*h),u=c*(1/3),p=1/27*(2*h*h*h-9*h*l+27*(s*a)),d=.5*p,f=d*d+u*u*u;if(f<0){var g=-c/3,_=B(g*g*g),m=-p/(2*_),y=W(m<-1?-1:m>1?1:m);e=2*Z(_)*Y((y+4*J)/3)-h/3}else if(0===f)e=-(d<0?Z(-d):-Z(d))-h*(1/3);else{var b=B(f);e=Z(b-d)-Z(b+d)-h*(1/3)}return Q(e,this[1],this[3],this[5],this[7])}draw(t,e=1){t.beginPath(),t.moveTo(this[0]*e,this[1]*e),t.bezierCurveTo(this[2]*e,this[3]*e,this[4]*e,this[5]*e,this[6]*e,this[7]*e),t.stroke()}}class tt extends K{static parse(t){let e=null;switch(t.tx){case"cubic":t.next().a("(");let s=parseFloat(t.tx),i=parseFloat(t.next().a(",").tx),r=parseFloat(t.next().a(",").tx),n=parseFloat(t.next().a(",").tx);t.a(")"),e=new tt(s,i,r,n);break;case"ease":t.next(),e=new tt(.25,.1,.25,1);break;case"ease-in":t.next(),e=new tt(.42,0,1,1);break;case"ease-out":t.next(),e=new tt(0,0,.58,1);break;case"ease-in-out":t.next(),e=new tt(.42,0,.58,1)}return e}toString(){return`cubic-bezier(${this[2]},${this[3]},${this[4]},${this[5]})`}}class et{constructor(t,e){this.color=t,this.percentage=e||null}toString(){return`${this.color}${this.percentage?" "+this.percentage:""}`}}class st{static parse(t){t.tx,t.pk.ty;if(t.ty==t.types.id)switch(t.tx){case"linear-gradient":t.next().a("(");let e,s="deg";"to"==t.tx||t.ty==t.types.num&&(e=parseFloat(t.ty),s=t.next().tx,t.next().a(","));let i=[];for(;!t.END&&")"!=t.ch;){let e=m.parse(t,rule,r),s=null;if(")"==t.ch){i.push(new et(e,s));break}","!=t.ch?(s=b.parse(t))||(s=y.parse(t)):t.next(),i.push(new et(e,s))}t.a(")");let n=new st;return n.stops=i,n}return null}constructor(t=0){this.type=t,this.direction=new b(0,"deg"),this.stops=[]}toString(){let t=[];switch(this.type){case 0:t.push("linear-gradient("),0!==this.direction&&t.push(this.direction.toString()+",")}for(let e=0;e<this.stops.length;e++)t.push(this.stops[e].toString()+(e<this.stops.length-1?",":""));return t.push(")"),t.join(" ")}}function it(t,e){switch(t){case"h":return(t=>({parse:(e,s,i,r=0)=>(r=b.parse(e,s,i),t>0?t>1?t=>t.innerHeight<=r:t=>t.innerHeight>=r:t=>t.screen.height==r)}))(e);case"w":return(t=>({parse:(e,s,i,r=0)=>(r=b.parse(e,s,i),t>0?t>1?t=>t.innerWidth>=r:t=>t.innerWidth<=r:t=>t.screen.width==r)}))(e)}return{parse:function(t){}}}function rt(t,e){let s=t.tx,i=1;"-"==s&&(s=t.n.tx,i=-1),"."==t.pk.tx&&(t.next(),s+=t.tx),t.pk.ty==t.types.number&&(t.next(),s+=t.tx),"e"==t.pk.tx&&(t.next(),s+=t.tx),"-"==t.pk.tx&&(t.next(),s+=t.tx),t.pk.ty==t.types.number&&(t.next(),s+=t.tx);let r=parseFloat(s)*i;if(t.next(),")"!==t.ch&&","!==t.ch){switch(t.tx){case"%":break;case"grad":r*=Math.PI/200;break;case"deg":r*=Math.PI/180;break;case"turn":r*=2*Math.PI}t.next()}return r}function nt(t,e){let s=null;for(s=t,"string"==typeof t&&(s=g(t));!s.END;){let t=s.tx;switch(s.next(),t){case"matrix":let t=rt(s.a("(")),i=rt(s.a(",")),r=rt(s.a(",")),n=rt(s.a(",")),o=-Math.atan2(i,t),a=t/Math.cos(o)||0,h=i/-Math.sin(o)||0,l=r/Math.sin(o)||0,c=n/Math.cos(o)||0;e.sx=0!==h?.5*(a+h):a,e.sy=0!==l?.5*(l+c):c,e.px=rt(s.a(",")),e.py=rt(s.a(",")),e.r=o,s.a(")");break;case"matrix3d":break;case"translate":e.px=rt(s.a("(")),s.a(","),e.py=rt(s),s.a(")");continue;case"translateX":e.px=rt(s.a("(")),s.a(")");continue;case"translateY":e.py=rt(s.a("(")),s.a(")");continue;case"scale":e.sx=rt(s.a("(")),","==s.ch?(s.a(","),e.sy=rt(s)):e.sy=e.sx,s.a(")");continue;case"scaleX":e.sx=rt(s.a("(")),s.a(")");continue;case"scaleY":e.sy=rt(s.a("(")),s.a(")");continue;case"scaleZ":break;case"rotate":e.r=rt(s.a("(")),s.a(")");continue}s.next()}}class ot extends Float64Array{static ToString(t=[0,0],e=[1,1],s=0){var i=0,r=0,n=1,o=1,a=0,h=1,l=0;return 5==t.length?(i=t[0],r=t[1],n=t[2],o=t[3],a=t[4]):(i=t[0],r=t[1],n=e[0],o=e[1],a=s),0!==a&&(h=Math.cos(a),l=Math.sin(a)),`matrix(${h*n}, ${-l*n}, ${o*l}, ${o*h}, ${i}, ${r})`}constructor(t,e,s,i,r){super(5),this.sx=1,this.sy=1,void 0!==t&&(t instanceof ot?(this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4]):"string"==typeof t?nt(t,this):(this[0]=t,this[1]=e,this[2]=s,this[3]=i,this[4]=r))}get px(){return this[0]}set px(t){this[0]=t}get py(){return this[1]}set py(t){this[1]=t}get sx(){return this[2]}set sx(t){this[2]=t}get sy(){return this[3]}set sy(t){this[3]=t}get r(){return this[4]}set r(t){this[4]=t}set scale(t){this.sx=t,this.sy=t}get scale(){return this.sx}lerp(t,e){let s=new ot;for(let i=0;i<5;i++)s[i]=this[i]+(t[i]-this[i])*e;return s}toString(){return ot.ToString(this)}copy(t){let e=new ot(this);return"string"==typeof t&&nt(t,e),e}setCTX(t){let e=1,s=0;0!=this[4]&&(e=Math.cos(this[4]),s=Math.sin(this[4])),t.transform(e*this[2],-s*this[2],this[3]*s,this[3]*e,this[0],this[1])}getLocalX(t){return(t-this.px)/this.sx}getLocalY(t){return(t-this.py)/this.sy}}const at=0,ht=1,lt=2,ct=3,ut=4,pt=5,dt=6,ft=7,gt=8,_t=9,mt=10,yt=11,bt=12,wt=13,xt=14,vt=15,kt=16,St=17,Et=18,At=19,Dt=20;function Nt(t){let e=1,s=t.tx;return"-"==s&&(e=-1,s=t.n.tx),t.next(),parseFloat(s)*e}function Tt(t,e){let s=Nt(t);","==t.ch&&t.next();let i=Nt(t);e.push(s,i)}function Ot(t,e){for(;(t.ty==t.types.num||"-"==t.ch)&&!t.END;)e.push(Dt),Tt(t,e)}const Ct={color:m,length:b,time:b,flex:b,angle:b,frequency:b,resolution:b,percentage:y,url:G,uri:G,number:H,id:z,string:U,shape:F,cubic_bezier:tt,integer:H,gradient:st,transform2D:ot,path:class extends Array{static FromString(t,e){let s=whind(t);for(;!s.END;){let t=!1,i=0,r=0;switch(s.ch){case"m":t=!0;case"M":s.next(),e.push(t?ht:at),Tt(s,e),Ot(s,e);continue;case"h":t=!0;case"H":s.next(),i=Nt(s),e.push(t?ut:pt,i);continue;case"v":t=!0;case"V":s.next(),r=Nt(s),e.push(t?ft:dt,r);continue;case"l":t=!0;case"L":s.next(),e.push(t?ct:lt),Tt(s,e),Ot(s,e);continue;case"c":t=!0;case"C":e.push(t?_t:gt),Tt(s,e),Tt(s,e),Tt(s,e),Ot(s,e);continue;case"s":t=!0;case"S":e.push(t?yt:mt),Tt(s,e),Tt(s,e),Ot(s,e);continue;case"q":t=!0;case"Q":e.push(t?wt:bt),Tt(s,e),Tt(s,e),Ot(s,e);continue;case"t":t=!0;case"T":e.push(t?vt:xt),Tt(s,e),Ot(s,e);continue;case"z":t=!0;case"Z":e.push(t?At:Et)}s.next()}}static ToString(t){let e=[],s=t.length,i=0;for(;i<s;)switch(t[i++]){case at:e.push("M",t[i++],t[i++]);break;case ht:e.push("m",t[i++],t[i++]);break;case lt:e.push("L",t[i++],t[i++]);break;case ct:e.push("l",t[i++],t[i++]);break;case ut:e.push("h",t[i++]);break;case pt:e.push("H",t[i++]);break;case dt:e.push("V",t[i++]);break;case ft:e.push("v",t[i++]);break;case gt:e.push("C",t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);break;case _t:e.push("c",t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);break;case mt:e.push("S",t[i++],t[i++],t[i++],t[i++]);break;case yt:e.push("s",t[i++],t[i++],t[i++],t[i++]);break;case bt:e.push("Q",t[i++],t[i++],t[i++],t[i++]);break;case wt:e.push("q",t[i++],t[i++],t[i++],t[i++]);break;case xt:e.push("T",t[i++],t[i++]);break;case vt:e.push("t",t[i++],t[i++]);break;case Et:e.push("Z");break;case At:e.push("z");break;case Dt:e.push(t[i++],t[i++]);break;case kt:case St:default:i++}return e.join(" ")}constructor(t){if(super(),"string"==typeof t)Path.FromString(t,this);else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.push(parseFloat(t[e]))}toString(){return Path.ToString(this)}lerp(t,e,s=new Path){let i=Math.min(this.length,t.length);for(let r=0;r<i;r++)s[r]=this[r]+(t[r]-this[r])*e;return s}},fontname:class extends String{static parse(t){if(t.ty==t.types.str){let e=t.tx;return t.next(),new U(e)}if(t.ty==t.types.id){let e=t.peek();for(;e.type==t.types.id&&!e.END;)e.next();let s=e.slice(t);return t.sync(),new U(s)}return null}},m_width:it("w",0),m_min_width:it("w",1),m_max_width:it("w",2),m_height:it("h",0),m_min_height:it("h",1),m_max_height:it("h",2),m_device_width:it("dw",0),m_min_device_width:it("dw",1),m_max_device_width:it("dw",2),m_device_height:it("dh",0),m_min_device_height:it("dh",1),m_max_device_height:it("dh",2)},It={direction:"ltr|rtl",unicode_bidi:"normal|embed|isolate|bidi-override|isolate-override|plaintext",writing_mode:"horizontal-tb|vertical-rl|vertical-lr",text_orientation:"mixed|upright|sideways",glyph_orientation_vertical:'auto|0deg|90deg|"0"|"90"',text_combine_upright:"none|all",position:"static|relative|absolute|sticky|fixed",top:"<length>|<number>|<percentage>|auto",left:"<length>|<number>|<percentage>|auto",bottom:"<length>|<number>|<percentage>|auto",right:"<length>|<number>|<percentage>|auto",offset_before:"<length>|<percentage>|auto",offset_after:"<length>|<percentage>|auto",offset_start:"<length>|<percentage>|auto",offset_end:"<length>|<percentage>|auto",z_index:"auto|<integer>",display:"[ <display_outside> || <display_inside> ] | <display_listitem> | <display_internal> | <display_box> | <display_legacy>",margin:"[<length>|<percentage>|0|auto]{1,4}",margin_top:"<length>|<percentage>|0|auto",margin_right:"<length>|<percentage>|0|auto",margin_bottom:"<length>|<percentage>|0|auto",margin_left:"<length>|<percentage>|0|auto",margin_trim:"none|in-flow|all",padding:"[<length>|<percentage>|0|auto]{1,4}",padding_top:"<length>|<percentage>|0|auto",padding_right:"<length>|<percentage>|0|auto",padding_bottom:"<length>|<percentage>|0|auto",padding_left:"<length>|<percentage>|0|auto",float:"left|right|none",clear:"left|right|both|none",box_sizing:"content-box | border-box",width:"<length>|<percentage>|min-content|max-content|fit-content|auto",height:"<length>|<percentage>|min-content|max-content|fit-content|auto",min_width:"<length>|<percentage>|min-content|max-content|fit-content|auto",max_width:"<length>|<percentage>|min-content|max-content|fit-content|auto|none",min_height:"<length>|<percentage>|min-content|max-content|fit-content|auto",max_height:"<length>|<percentage>|min-content|max-content|fit-content|auto|none",color:"<color>",opacity:"<alphavalue>",background_color:"<color>|red",background_image:"<bg_image>#",background_repeat:"<repeat_style>#",background_attachment:"scroll|fixed|local",background_position:"[<percentage>|<length>]{1,2}|[top|center|bottom]||[left|center|right]",background_clip:"<box>#",background_origin:"<box>#",background_size:"<bg_size>#",background:"[<bg_layer>#,]?<final_bg_layer>",border_color:"<color>{1,4}",border_top_color:"<color>",border_right_color:"<color>",border_bottom_color:"<color>",border_left_color:"<color>",border_top_width:"<line_width>",border_right_width:"<line_width>",border_bottom_width:"<line_width>",border_left_width:"<line_width>",border_width:"<line_width>{1,4}",border_style:"<line_style>{1,4}",border_top_style:"<line_style>",border_right_style:"<line_style>",border_bottom_style:"<line_style>",border_left_style:"<line_style>",border_top:"<line_width>||<line_style>||<color>",border_right:"<line_width>||<line_style>||<color>",border_bottom:"<line_width>||<line_style>||<color>",border_left:"<line_width>||<line_style>||<color>",border_radius:"<length_percentage>{1,4}[ / <length_percentage>{1,4}]?",border_top_left_radius:"<length_percentage>{1,2}",border_top_right_radius:"<length_percentage>{1,2}",border_bottom_right_radius:"<length_percentage>{1,2}",border_bottom_left_radius:"<length_percentage>{1,2}",border:"<line_width>||<line_style>||<color>",border_image:"<border_image_source>||<border_image_slice>[/<border_image_width>|/<border_image_width>?/<border_image_outset>]?||<border_image_repeat>",border_image_source:"none|<image>",border_image_slice:"[<number>|<percentage>]{1,4}&&fill?",border_image_width:"[<length_percentage>|<number>|auto]{1,4}",border_image_outset:"[<length>|<number>]{1,4}",border_image_repeat:"[stretch|repeat|round|space]{1,2}",box_shadow:"none|<shadow>#",line_height:"normal|<percentage>|<length>|<number>",overflow:"visible|hidden|scroll|auto",font_display:"auto|block|swap|fallback|optional",font_family:"[<generic_family>|<family_name>]#",font_language_override:"normal|<string>",font:"[[<font_style>||<font_variant>||<font_weight>]?<font_size>[/<line_height>]?<font_family>]|caption|icon|menu|message-box|small-caption|status-bar",font_max_size:"<absolute_size>|<relative_size>|<length>|<percentage>|infinity",font_min_size:"<absolute_size>|<relative_size>|<length>|<percentage>",font_optical_sizing:"auto|none",font_pallette:"normal|light|dark|<identifier>",font_size:"<absolute_size>|<relative_size>|<length>|<percentage>",font_stretch:"<percentage>|normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique<angle>?",font_synthesis:"none|[weight||style]",font_synthesis_small_caps:"auto|none",font_synthesis_style:"auto|none",font_synthesis_weight:"auto|none",font_variant_alternates:"normal|[stylistic(<feature-value-name>)||historical-forms||styleset(<feature-value-name>#)||character-variant(<feature-value-name>#)||swash(<feature-value-name>)||ornaments(<feature-value-name>)||annotation(<feature-value-name>)]",font_variant_emoji:"auto|text|emoji|unicode",font_variation_settings:" normal|[<string><number>]#",font_size_adjust:"<number>|none",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",font_kerning:" auto | normal | none",font_variant:"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby||[sub|super]]",font_variant_ligatures:"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values> ]",font_variant_position:"normal|sub|super",font_variant_caps:"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps",font_variant_numeric:"normal | [ <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero ]",font_variant_east_asian:" normal | [ <east-asian-variant-values> || <east-asian-width-values> || ruby ]",hanging_punctuation:"none|[first||[force-end|allow-end]||last]",hyphens:"none|manual|auto",letter_spacing:"normal|<length>",line_break:"auto|loose|normal|strict|anywhere",overflow_wrap:"normal|break-word|anywhere",tab_size:"<length>|<number>",text_align:"start|end|left|right|center|justify|match-parent|justify-all",text_align_all:"start|end|left|right|center|justify|match-parent",text_align_last:"auto|start|end|left|right|center|justify|match-parent",text_indent:"[[<length>|<percentage>]&&hanging?&&each-line?]",text_justify:"auto|none|inter-word|inter-character",text_transform:"none|[capitalize|uppercase|lowercase]||full-width||full-size-kana",white_space:"normal|pre|nowrap|pre-wrap|break-spaces|pre-line",word_break:" normal|keep-all|break-all|break-word",word_spacing:"normal|<length>",word_wrap:"  normal | break-word | anywhere",text_decoration:"<text-decoration-line>||<text-decoration-style>||<color>",text_decoration_color:"<color>",text_decoration_line:"none|[underline||overline||line-through||blink]",text_decoration_style:"solid|double|dotted|dashed|wavy",text_emphasis:"<text-emphasis-style>||<text-emphasis-color>",text_emphasis_color:"<color>",text_emphasis_position:"[over|under]&&[right|left]?",text_emphasis_style:"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>",text_shadow:"none|[<color>?&&<length>{2,3}]#",text_underline_position:"auto|[under||[left|right]]",align_content:"flex-start | flex-end | center | space-between | space-around | stretch",align_items:"flex-start | flex-end | center | baseline | stretch",align_self:"auto | flex-start | flex-end | center | baseline | stretch",flex:"none|[<flex-grow> <flex-shrink>?||<flex-basis>]",flex_basis:"content|<width>",flex_direction:"row | row-reverse | column | column-reverse",flex_flow:"<flex-direction>||<flex-wrap>",flex_grow:"<number>",flex_shrink:"<number>",flex_wrap:"nowrap|wrap|wrap-reverse",justify_content:"flex-start | flex-end | center | space-between | space-around",order:"<integer>",transition:"<single_transition>#",transition_delay:"<time>#",transition_duration:"<time>#",transition_property:"none|<single_transition_property>#",transition_timing_function:"<timing_function>#",animation:"<single_animation>#",animation_name:"[none|<keyframes_name>]#",animation_duration:"<time>#",animation_timing_function:"<timing_function>#",animation_iteration_count:"<single_animation_iteration_count>#",animation_direction:"<single_animation_direction>#",animation_play_state:"<single_animation_play_state>#",animation_delayed:"<time>#",animation_fill_mode:"<single_animation_fill_mode>#",pointer_events:"visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|none|auto",caret_color:"auto|<color>",cursor:"[[<url> [<number><number>]?,]*[auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|grab|grabbing|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out]]",outline:"[<outline-color>||<outline-style>||<outline-width>]",outline_color:"<color>|invert",outline_offset:"<length>",outline_style:"auto|<border-style>",outline_width:"<line-width>",resize:"none|both|horizontal|vertical",text_overflow:"clip|ellipsis",bookmark_label:"<content-list>",bookmark_level:"none|<integer>",bookmark_state:"open|closed",content:"normal|none|[<content-replacement>|<content-list>][/<string>]?",quotes:"none|[<string><string>]+",string_set:"none|[<custom-ident><string>+]#",caption_side:"top|bottom",table_layout:"auto|fixed",border_collapse:"collapse|separate",border_spacing:"<length><length>?",empty_cells:"show|hide",page_break_before:"auto|always|avoid|left|right",page_break_after:"auto|always|avoid|left|right",page_break_inside:"auto|avoid|left|right",orphans:"<integer>",widows:"<integer>",counter_increment:"[<custom-ident> <integer>?]+ | none",counter_reset:"[<custom-ident> <integer>?]+|none",counter_set:"[<custom-ident> <integer>?]+|none",list_style:"<list-style-type>||<list-style-position>||<list-style-image>",list_style_image:"<url>|none",list_style_position:"inside|outside",list_style_type:"<counter-style>|<string>|none",marker_side:"list-item|list-container",vertical_align:"baseline|sub|super|top|text-top|middle|bottom|text-bottom|<percentage>|<length>",clip:"<shape>|auto",visibility:"visible|hidden|collapse",content:"normal|none|[<string>|<uri>|<counter>|attr(<identifier>)|open-quote|close-quote|no-open-quote|no-close-quote]+",quotas:"[<string><string>]+|none",counter_reset:"[<identifier><integer>?]+|none",counter_increment:"[<identifier><integer>?]+|none"},Pt={counter_style:"<numeric_counter_style>|<alphabetic_counter_style>|<symbolic_counter_style>|<japanese_counter_style>|<korean_counter_style>|<chinese_counter_style>|ethiopic-numeric",numeric_counter_style:"decimal|decimal-leading-zero|arabic-indic|armenian|upper-armenian|lower-armenian|bengali|cambodian|khmer|cjk-decimal|devanagari|georgian|gujarati|gurmukhi|hebrew|kannada|lao|malayalam|mongolian|myanmar|oriya|persian|lower-roman|upper-roman|tamil|telugu|thai|tibetan",symbolic_counter_style:"disc|circle|square|disclosure-open|disclosure-closed",alphabetic_counter_style:"lower-alpha|lower-latin|upper-alpha|upper-latin|cjk-earthly-branch|cjk-heavenly-stem|lower-greek|hiragana|hiragana-iroha|katakana|katakana-iroha",japanese_counter_style:"japanese-informal|japanese-formal",korean_counter_style:"korean-hangul-formal|korean-hanja-informal|and korean-hanja-formal",chinese_counter_style:"simp-chinese-informal|simp-chinese-formal|trad-chinese-informal|and trad-chinese-formal",content_list:"[<string>|contents|<image>|<quote>|<target>|<leader()>]+",content_replacement:"<image>",custom_ident:"<identifier>",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>][top|center|bottom|<length-percentage>]?|[[left|right]<length-percentage>]&&[[top|bottom]<length-percentage>]]",east_asian_variant_values:"[jis78|jis83|jis90|jis04|simplified|traditional]",alphavalue:"<number>",box:"border-box|padding-box|content-box",absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",relative_size:"larger|smaller",bg_layer:"<bg_image>||<bg_position>[/<bg_size>]?||<repeat_style>||<attachment>||<box>||<box>",final_bg_layer:"<background_color>||<bg_image>||<bg_position>[/<bg_size>]?||<repeat_style>||<attachment>||<box>||<box>",bg_image:"<url>|<gradient>|none",repeat_style:"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}",background_attachment:"<attachment>#",bg_size:"[<length_percentage>|auto]{1,2}|cover|contain",bg_position:"[[left|center|right|top|bottom|<length_percentage>]|[left|center|right|<length_percentage>][top|center|bottom|<length_percentage>]|[center|[left|right]<length_percentage>?]&&[center|[top|bottom]<length_percentage>?]]",attachment:"scroll|fixed|local",line_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",line_width:"thin|medium|thick|<length>",shadow:"inset?&&<length>{2,4}&&<color>?",family_name:"<fontname>",generic_family:"serif|sans-serif|cursive|fantasy|monospace",identifier:"<id>",custom_ident:"<id>",timing_function:"linear|<cubic_bezier_timing_function>|<step_timing_function>|<frames_timing_function>",cubic_bezier_timing_function:"<cubic_bezier>",step_timing_function:"step-start|step-end|'steps()'",frames_timing_function:"'frames()'",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_iteration_count:"infinite|<number>",single_transition_property:"all|<custom_ident>",single_transition:"[none|<single_transition_property>]||<time>||<timing_function>||<time>",single_animation:"<time>||<timing_function>||<time>||<single_animation_iteration_count>||<single_animation_direction>||<single_animation_fill_mode>||<single_animation_play_state>||[none|<keyframes_name>]",keyframes_name:"<string>",length_percentage:"<length>|<percentage>",frequency_percentage:"<frequency>|<percentage>",angle_percentage:"<angle>|<percentage>",time_percentage:"<time>|<percentage>",number_percentage:"<number>|<percentage>",clip_path:"<clip_source>|[<basic_shape>||<geometry_box>]|none",clip_source:"<url>",shape_box:"<box>|margin-box",geometry_box:"<shape_box>|fill-box|stroke-box|view-box",basic_shape:"<CSS_Shape>",ratio:"<integer>/<integer>",common_lig_values:"[ common-ligatures | no-common-ligatures ]",discretionary_lig_values:"[ discretionary-ligatures | no-discretionary-ligatures ]",historical_lig_values:"[ historical-ligatures | no-historical-ligatures ]",contextual_alt_values:"[ contextual | no-contextual ]",display_outside:"block | inline | run-in",display_inside:"flow | flow-root | table | flex | grid | ruby",display_listitem:"<display_outside>? && [ flow | flow-root ]? && list-item",display_internal:"table-row-group | table-header-group | table-footer-group | table-row | table-cell | table-column-group | table-column | table-caption | ruby-base | ruby-text | ruby-base-container | ruby-text-container",display_box:"contents | none",display_legacy:"inline-block | inline-table | inline-flex | inline-grid"};function Rt(t){t.tx;switch(t.tx){case"initial":case"inherit":case"unset":case"revert":return t.pk.pk.END?1:0}return 2}class Mt{get type(){return"jux"}constructor(){this.id=Mt.step++,this.r=[NaN,NaN],this.terms=[],this.HAS_PROP=!1,this.name="",this.virtual=!1,this.REQUIRE_COMMA=!1}mergeValues(t,e){t&&(t.v?Array.isArray(t.v)?t.v.push(e.v):t.v=[t.v,e.v]:t.v=e.v)}seal(){}sp(t,e){this.HAS_PROP&&t&&(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])?e[0]=t[0]:e[0]=t)}isRepeating(){return!(isNaN(this.r[0])&&isNaN(this.r[1]))}parse(t){const e=[];return this.parseLVL1(t instanceof g.constructor?t:g(t+""),e),e}parseLVL1(t,e=[],s=!0){"string"==typeof t&&(t=g(t));let i=!1;if(s){switch(Rt(t)){case 1:return this.sp(t.tx,e),!0;case 0:return!1}i=this.parseLVL2(t,e,this.start,this.end)}else i=this.parseLVL2(t,e,this.start,this.end);return i}checkForComma(t,e,s=[],i=0){if(this.REQUIRE_COMMA){if(e&&(i>0?e.push(",",...s):e.push(...s)),","!==t.ch)return!1;t.next()}else e&&e.push(...s);return!0}parseLVL2(t,e,s,i){let r=!1,n=t.copy(),o=[];t:for(let s=0;s<i&&!t.END;s++){const i=[];for(let t=0,e=this.terms.length;t<e;t++){const e=this.terms[t];if(!e.parseLVL1(n,i,!1)&&!e.OPTIONAL)break t}if(o.push(...i),t.sync(n),r=!0,!this.checkForComma(n,e,o,s))break}return r}get start(){return isNaN(this.r[0])?1:this.r[0]}set start(t){}get end(){return isNaN(this.r[1])?1:this.r[1]}set end(t){}get OPTIONAL(){return 0===this.r[0]}set OPTIONAL(t){}}Mt.step=0;class Lt extends Mt{get type(){return"or"}parseLVL2(t,e,s,i){const r=new Array(this.terms.length),n=this.terms.length;let o=!1,a=!0,h=t.copy(),l=[];t:for(let s=0;s<i&&!t.END;s++){const i=r.fill(0);e:for(;!h.END;){for(let t=0;t<n;t++){if(2===i[t])continue;if(this.terms[t].parseLVL1(h,l,!1)){a=!1,i[t]=2;continue e}}if(a)break t;break}if(t.sync(h),o=!0,!this.checkForComma(h,e,l,s))break}return o}}Lt.step=0;class jt extends Mt{get type(){return"one_of"}parseLVL2(t,e,s,i){let r=!1;const n=t.copy(),o=[];for(let s=0;s<i&&!t.END;s++){let i=!1;for(let t=0,e=this.terms.length;t<e;t++)if(this.terms[t].parseLVL1(n,o,!1)){i=!0;break}if(!i)break;if(t.sync(n),r=!0,!this.checkForComma(n,e,o,s))break}return r}}jt.step=0;class qt{get type(){return"term"}constructor(t,e){e==g.types.string&&(t=t.slice(1,-1)),this.value=t,this.HAS_PROP=!1}seal(){}parse(t){const e=[];return this.parseLVL1(t instanceof g.constructor?t:g(t+""),e),e}parseLVL1(t,e,s=!0){if("string"==typeof t&&(t=g(t)),s)switch(Rt(t)){case 1:return rule.push(t.tx),!0;case 0:return!1}let i=t.tx;return i==this.value&&(t.next(),e.push(i),!0)}get OPTIONAL(){return!1}set OPTIONAL(t){}}const $t={JUX:Mt,AND:class extends Mt{get type(){return"and"}parseLVL2(t,e,s,i){const r=new Array(this.terms.length),n=this.terms.length;let o=!1,a=[],h=t.copy();t:for(let s=0;s<i&&!t.END;s++){const i=r.fill(0);e:for(;!h.END;){for(let t=0;t<n;t++){if(2===i[t])continue;let e=this.terms[t];const s=[];if(e.parseLVL1(h,s,!1)){a.push(...s),i[t]=2;continue e}e.OPTIONAL&&(i[t]=1)}if(0===i.reduce((t,e)=>t*e,1))break t;break}if(t.sync(h),o=!0,!this.checkForComma(h,e,a,s))break}return o}},OR:Lt,ONE_OF:jt,LiteralTerm:qt,ValueTerm:class extends qt{constructor(t,e,s,i){if(super(t),t instanceof Mt)return t;this.value=null;const r={is:!1};if("string"==typeof t)var n=t.replace(/\-/g,"_");return(this.value=Ct[n])||(this.value=e(n,r,s,i)),this.value?this.value instanceof Mt?(r.is&&(this.value.virtual=!0),this.value):void 0:new qt(t)}parseLVL1(t,e,s=!0){if("string"==typeof t&&(t=g(t)),s)switch(Rt(t)){case 1:return e.push(t.tx),!0;case 0:return!1}const i=this.value.parse(t);return!!i&&(e.push(i),!0)}},SymbolTerm:class extends qt{parseLVL1(t,e,s){return"string"==typeof t&&(t=g(t)),t.tx==this.value&&(t.next(),e.push(this.value),!0)}}};function Gt(t){let e=t.pk,s="";for(;!e.END&&e.ty&(g.types.id|g.types.num)||"-"==e.tx||"_"==e.tx;)e.next();return s=e.slice(t),t.sync(),t.tl=0,s}function Ut(t,e={is:!1},s=null,i=$t){let r=s[t];return r?("string"==typeof r&&(r=s[t]=zt(r,t,s,i)),r.name=t,r):(s.__virtual||(s.__virtual=Object.assign({},Pt)),r=s.__virtual[t],r?(e.is=!0,"string"==typeof r&&(r=s.__virtual[t]=zt(r,"",s,i),r.virtual=!0,r.name=t),r):null)}function zt(t,e,s,i){const r=g(t);r.useExtendedId();let n=function t(e,s,i,r=!1,n=!1,o=!1,a=!1,h=null){let l,c,u;const{JUX:p,AND:d,OR:f,ONE_OF:g,LiteralTerm:_,ValueTerm:m,SymbolTerm:y}=i;for(;!e.END;)switch(e.ch){case"]":return l;case"[":u=t(e.next(),s,i,!0),e.assert("]"),u=Ft(e,u,i),l?(l instanceof p&&l.isRepeating()&&(l=Ht(i,new p,l)),l=Ht(i,l,u)):l=u;break;case"<":let b=Gt(e.next());u=new m(b,Ut,s,i),e.next().assert(">"),u=Ft(e,u,i),l?(l instanceof p&&(l=Ht(i,new p,l)),l=Ht(i,l,u)):l=u;break;case"&":if("&"==e.pk.ch){if(a)return l;if(c=new d,!l)throw new Error("missing term!");for(c.terms.push(l),e.sync().next();!e.END&&(c.terms.push(t(e,s,i,r,n,o,!0,h)),"&"===e.ch&&"&"===e.pk.ch);)e.a("&").a("&");return c}break;case"|":if("|"==e.pk.ch){if(o||a)return l;for(c=new f,c.terms.push(l),e.sync().next();!e.END&&(c.terms.push(t(e,s,i,r,n,!0,a,h)),"|"===e.ch&&"|"===e.pk.ch);)e.a("|").a("|");return c}if(n||o||a)return l;for(c=new g,c.terms.push(l),e.next();!e.END&&(c.terms.push(t(e,s,i,r,!0,o,a,h)),"|"===e.ch);)e.a("|");return c;default:u=e.ty==e.types.symbol?new y(e.tx):new _(e.tx,e.ty),e.next(),u=Ft(e,u,i),l?(l instanceof p&&(l=Ht(i,new p,l)),l=Ht(i,l,u)):l=u}return l}(r,s,i);return n.seal(),n.HAS_PROP=!0,n.IMP=!1,n}function Ft(t,e,s){t:for(;;){switch(t.ch){case"!":e.IMPORTANT=!0,t.next();continue t;case"{":(e=Ht(s,e)).r[0]=parseInt(t.next().tx),","==t.next().ch?(t.next(),"}"==t.pk.ch?(e.r[1]=parseInt(t.tx),t.next()):e.r[1]=1/0):e.r[1]=e.r[0],t.a("}");break;case"*":(e=Ht(s,e)).r[0]=0,e.r[1]=1/0,t.next();break;case"+":(e=Ht(s,e)).r[0]=1,e.r[1]=1/0,t.next();break;case"?":(e=Ht(s,e)).r[0]=0,e.r[1]=1,t.next();break;case"#":let i=new s.JUX;i.terms.push(e),(e=i).r[0]=1,e.r[1]=1/0,e.REQUIRE_COMMA=!0,t.next(),"{"==t.ch&&(e.r[0]=parseInt(t.next().tx),e.r[1]=parseInt(t.next().a(",").tx),t.next().a("}"))}break}return e}function Ht(t,e,s=null){if(e){if(!(e instanceof t.JUX)){let s=new t.JUX;s.terms.push(e),e=s}return s&&(e.seal(),e.terms.push(s)),e}return s}const Vt=Symbol("observer_mixin_symbol"),Bt=function(t,e){const s=Symbol("observer_array_reference");e[Vt]=s,e.addObserver=function(...t){let e=this[s];e||(e=this[s]=[]);for(const i of t){if(i[s]==this)return;i[s]&&i[s].removeObserver(i),e.push(i),i[s]=this}},e.removeObserver=function(...t){const e=this[s];for(const i of t)for(let t=0,r=e.length;t<r;t++)if(e[t]==i)return i[s]=null,e.splice(t,1)},e.updateObservers=function(){const e=this[s];e&&e.forEach(e=>e[t](this))}};function Yt(t){if(0==t.length)return null;let e=null;const s=t[0],i=t[2],r=!!t[3],n={is:!1},o=Ut(s.replace(/\-/g,"_"),n,It);return o&&!n.is?e=o.parse(g(i).useExtendedId()):console.warn(`Unable to get parser for CSS property ${s}`),{name:s,body_string:i,prop:e,important:r}}Bt.destroy=function(t){const e=t.constructor.prototype[Vt];e&&(t[e]&&t[e].forEach(t=>t[e]=null),t[e].length=0,t[e]=null)},Bt.mixin_symbol=Vt,Object.freeze(Bt);class Wt{constructor(t,e,s){this.val=s,this.name=t.replace(/\-/g,"_"),this.original_value=e,this.rule=null,this.ver=0}destroy(){this.val=null,this.name="",this.original_value="",this.rule=null,Bt.destroy(this)}get css_type(){return"styleprop"}updated(){this.updateObservers(),this.parent&&this.parent.update()}get value(){return this.val.length>1?this.val:this.val[0]}get value_string(){return this.val.join(" ")}toString(t=0){return`${"    ".repeat(t)+this.name.replace(/\_/g,"-")}:${this.value_string}`}setValueFromString(t){const e=Yt([this.name,null,t]);e&&this.setValue(...e.prop)}setValue(...t){let e=0;for(const s of t){const t=this.val[e];t&&t.constructor,this.val[e]=s,e++}this.val.length=t.length,this.ver++,this.updated()}}function Jt(...t){const e=Yt(...t);return e?new Wt(e.name,e.body_string,e.prop):null}function Xt(t,e){for(const s of t)s.parent=e}Bt("updatedCSSStyleProperty",Wt.prototype);class Zt{constructor(t=[],e=[]){this.selectors=t,this.properties=new Map,this.addProp(e),this.ver=0,this.parent=null,Xt(this.selectors,this),Xt(this.properties.values(),this),this.props=new Proxy(this,this),this.addProperty=this.addProp,this.addProps=this.addProp,this.UPDATE_LOOP_GAURD=!1}get css_type(){return"stylerule"}destroy(){for(const t of this.properties.values())t.destroy();for(const t of this.selectors)t.destroy();this.parent=null,this.selectors=null,this.properties=null,Bt.destroy(this)}update(){this.ver++,this.parent&&this.parent.update(),this.updateObservers()}get type(){return"stylerule"}get(t,e){return t.properties.get(e)}addProp(t){if("string"==typeof t)return this.addProps(t.split(";").filter(t=>""!==t).map((t,e)=>((e=t.split(":")).splice(1,0,null),e)).map(Jt));"stylerule"==t.type?t=t.properties.values():Array.isArray(t)||(t=[t]);for(const e of t)e&&(this.properties.has(e.name)?this.properties.get(e.name).setValue(...e.val):this.properties.set(e.name,e),e.parent=this);return this.ver++,this.update(),t}match(t,e){for(const s of this.selectors)if(s.match(t,e))return!0;return!1}*getApplicableSelectors(t,e){for(const s of this.selectors)s.match(t,e)&&(yield s)}*getApplicableRules(t,e){this.match(t,e)&&(yield this)}*iterateProps(){for(const t of this.properties.values())yield t}toString(t=0,e=""){let s=[];for(const e of this.properties.values())s.push(e.toString(t));return`${this.selectors.join("")}{${s.join(";")}}`}merge(t){if(t&&"stylerule"==t.type)for(const e of t.properties.values())e&&this.properties.set(e.name,e)}get _wick_type_(){return 0}set _wick_type_(t){}}Bt("updatedCSSStyleRule",Zt.prototype);class Qt{constructor(t,e=[]){this.rules=e,e.forEach(t=>t.parent=this),this.parent=null}destroy(){for(const t of this.rules)t.destroy();this.rules=null,this.parent=null}*getApplicableSelectors(t,e=window){for(const s of this.rules)yield*s.getApplicableSelectors(t,e)}*getApplicableRules(t,e=window){for(const e of this.rules)yield*e.getApplicableRules(t,window)}update(){this.parent&&this.parent.updated()}getRule(t){let e=null;for(let s=this.fch;s;s=this.getNextChild(s))e=s.getRule(t,e);return e}toString(){return this.rules.join("\n")}}class Kt{constructor(t){this.ruleset=null,this.ruleset=t?t[0]:new Qt,this.ruleset.parent=this,this.parent=null,this.READY=!0}destroy(){this.ruleset.destroy(),this.parent=null,this.READY=!1,Bt.destroy(this)}get css_type(){return"stylesheet"}clone(){let t=new this.constructor;return t._selectors_=this._selectors_,t._sel_a_=this._sel_a_,t._media_=this._media_,t}merge(t){if(t instanceof Kt){t.ruleset;t:for(let t=0;t<children.length;t++){let e=children[t];for(let t=0;t<this.children.length;t++){let s=this.children[t];if(s.isSame(e)){s.merge(e);continue t}}this.children.push(e)}}}_resolveReady_(t,e){this.pending_build>0&&this.resolves.push(t),t(this)}_setREADY_(){if(this.pending_build<1){for(let t=0,e=this.resolves;t<e;t++)this.resolves[t](this);this.resolves.length=0,this.res=null}}updated(){this.updateObservers()}*getApplicableSelectors(t,e=window){yield*this.ruleset.getApplicableSelectors(t,window)}getApplicableRules(t,e=window,s=!1,i=new Zt){if(!(t instanceof HTMLElement))return i;const r=this.ruleset.getApplicableRules(t,e);if(s)return r;for(const t of r)i.merge(t);return i}*getApplicableProperties(t,e=window){for(const s of this.getApplicableRules(t,e,!0))yield*s.iterateProps()}getRule(t){let e=null;for(let s=this.fch;s;s=this.getNextChild(s))e=s.getRule(t,e);return e}toString(){return this.ruleset+""}}Bt("updatedCSS",Kt.prototype);const te=Ct.length,ee=Ct.percentage,se=Ct.color,ie=Ct.transform2D,re=Ct.cubic_bezier,ne=function(){var t=!1;const s={getYatX:t=>t,toString:()=>"linear"};class r extends Number{lerp(t,e,s=0){return this+(t-this)*e}copy(t){return new r(t)}}class o{constructor(t){this.v=t}lerp(t,e,s){return s.v}copy(t){return new o(t)}}class a{constructor(t,e,s,i){this.duration=0,this.end=!1,this.keys=[],this.current_val=null;const r=Array.isArray(t),n=r?t[0]:t,o=void 0!==n.value?n.value:n.v;this.type="transform"==s?ie:this.getType(o),this.getValue(e,s,i,o);let a=this.current_val;r?t.forEach(t=>a=this.addKey(t,a)):this.addKey(t,a)}destroy(){this.keys=null,this.type=null,this.current_val=null}getValue(t,e,s,i){if(0==s){let s=e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),i=window.getComputedStyle(t).getPropertyValue(s);if(i||(i=t.style[e]),this.type==ee&&t.parentElement){let e=window.getComputedStyle(t.parentElement).getPropertyValue(s);i=100*(parseFloat(i)/parseFloat(e))}this.current_val=new this.type(i)}else this.current_val=new this.type(t[e])}getType(t){switch(typeof t){case"number":return r;case"string":if(te._verify_(t))return te;if(ee._verify_(t))return ee;if(se._verify_(t))return se;case"object":return o}}addKey(t,e){let i=this.keys.length,r=this.keys[i-1],n=void 0!==t.value?t.value:t.v,o={val:e?e.copy(n):new this.type(n)||0,dur:t.duration||t.dur||0,del:t.delay||t.del||0,ease:t.easing||t.e||(r?r.ease:s),len:0};return o.len=o.dur+o.del,this.keys.push(o),this.duration+=o.len,o.val}getValueAtTime(t=0){let e,s=this.current_val,i=this.current_val,r=s;for(let r=0;r<this.keys.length&&(e=this.keys[r],i=e.val,!(t<e.len));r++)t-=e.len,s=e.val;if(e)if(t<e.len)if(t<e.del)r=s;else{let n=(t-e.del)/e.dur,o=e.ease.getYatX(n);r=s.lerp(i,o,s)}else r=i;return r}run(t,e,s,i){const r=this.getValueAtTime(s);return this.setProp(t,e,r,i),s<this.duration}setProp(t,e,s,i){0==i?t.style[e]=s:t[e]=s}unsetProp(t,e){this.setProp(t,e,"",0)}toCSSString(t=0,e=""){return`${e}:${this.getValueAtTime(t).toString()}`}}class h{constructor(t,e){switch(this.duration=0,this.time=0,this.obj=null,this.type=function(t){return t instanceof HTMLElement?"SVG"==t.tagName?3:0:1}(t),this.DESTROYED=!1,this.FINISHED=!1,this.SHUTTLE=!1,this.REPEAT=0,this.events={},this.CSS_ANIMATING=!1,this.SCALE=1,this.type){case 0:this.obj=t;break;case 3:case 1:this.obj=t}this.props={},this.setProps(e)}destroy(){for(let t in this.props)this.props[t]&&this.props[t].destroy();this.DESTROYED=!0,this.duration=0,this.obj=null,this.props=null,this.time=0}removeProps(t){t instanceof h&&(t=t.props);for(let e in t)this.props[e]&&(this.props[e]=null)}unsetProps(t){for(let t in this.props)this.props[t].unsetProp(this.obj,t)}setProps(t){for(let t in this.props)this.props[t].destroy();this.props={};for(let e in t)this.configureProp(e,t[e])}configureProp(t,e){let s;(s=this.props[t])?this.duration=Math.max(s.duration||s.dur,this.duration):(s=new a(e,this.obj,t,this.type),this.props[t]=s,this.duration=Math.max(s.duration||s.dur,this.duration))}run(t){for(let e in this.props){let s=this.props[e];s&&s.run(this.obj,e,t,this.type)}return!(t>=this.duration||t<=0)}toCSSString(t){const e=[`.${t}{animation:${t} ${this.duration}ms ${ne.ease_out.toString()}}`,`@keyframes ${t}{`];for(let t=0;t<2;t++){e.push(`${Math.round(t/1*100)}%{`);for(let s in this.props)e.push(this.props[s].toCSSString(t/1*this.duration,s.replace(/([A-Z])/g,(t,e)=>"-"+t.toLowerCase()))+";");e.push("}")}return e.push("}"),e.join("\n")}beginCSSAnimation(){if(!this.CSS_ANIMATING){const t="class"+(1e4*Math.random()|0);this.CSS_ANIMATING=t,this.obj.classList.add(t);let e=document.createElement("style");e.innerHTML=this.toCSSString(t),document.head.appendChild(e),this.style=e,setTimeout(this.endCSSAnimation.bind(this),this.duration)}}endCSSAnimation(){this.CSS_ANIMATING&&(this.obj.classList.remove(this.CSS_ANIMATING),this.CSS_ANIMATING="",this.style.parentElement.removeChild(this.style),this.style=null)}}class l{constructor(t){this.seq=[],this.time=0,this.duration=0,this.DESTROYED=!1,this.FINISHED=!1,this.SHUTTLE=!1,this.REPEAT=0,this.events={},this.ANIM_COMPLETE_FUNCTIONS=[];for(const e of t)this.add(e)}destroy(){this.seq.forEach(t=>t.destroy()),this.seq=null}add(t){this.seq.push(t),this.duration=Math.max(this.duration,t.duration)}run(t){for(let e=0,s=this.seq.length;e<s;e++){this.seq[e].run(t)}return!(t>=this.duration)}stop(){return this}}const c={issueEvent(t){const e=this.events[t];e&&e.forEach(t=>t(this))},scheduledUpdate(t,e){if(this.time+=e*this.SCALE,this.run(this.time))n.queueUpdate(this);else if(this.REPEAT){let t=this.SCALE;this.REPEAT--,this.SHUTTLE&&(t=-t);let e=t>0?0:this.duration;this.play(t,e)}else this.issueEvent("stopped")},await:async function(){return this.observeStop(()=>{})},observeStop(t){return new Promise(t=>{const e=()=>{t(),this.removeEventListener(e)};this.addEventListener("stopped",e)}).then(t)},shuttle(t=!0){return this.SHUTTLE=!!t,this},set(t=1){i>=0?this.run(i*this.duration):this.run(this.duration-i*this.duration)},repeat(t=1){return this.REPEAT=Math.max(0,parseFloat(t)),this},play(t=1,e=0){return this.SCALE=t,this.time=e,n.queueUpdate(this),this.issueEvent("started"),this},addEventListener(t,e){"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))},removeEventListener(t,s){if("function"==typeof s){let i=this.events[t];if(i)for(let t=0;t<i.length;t++)if(i[t]===s)return e(vents.splice(t,1),!0)}return!1}};Object.assign(l.prototype,c),Object.assign(h.prototype,c);const u=function(...t){const e=[];for(let s=0;s<t.length;s++){let i=t[s],r=i.obj,n={};Object.keys(i).forEach(t=>{({obj:!0,match:!0,delay:!0})[t]||(n[t]=i[t])}),e.push(new h(r,n))}return t.length>1?new l(e):e.pop()};return Object.assign(u,{createSequence:u,createGroup:function(...t){let e=new l;return t.forEach(t=>e.add(t)),e},set USE_TRANSFORM(e){t=!!e},get USE_TRANSFORM(){return t},linear:s,ease:new re(.25,.1,.25,1),ease_in:new re(.42,0,1,1),ease_out:new re(.2,.8,.3,.99),ease_in_out:new re(.42,0,.58,1),overshoot:new re(.2,1.5,.2,.8),anticipate:new re(.5,-.5,.5,.8),custom:(t,e,s,i)=>new re(t,e,s,i)}),u}();function oe(t,e,s,i,r){const n=window.getComputedStyle(t,null),o=t.getBoundingClientRect();r.getBoundingClientRect();let a=n.getPropertyValue("width"),h=n.getPropertyValue("height"),l=(parseFloat(n.getPropertyValue("margin-left")),n.getPropertyValue("background-color")),c=n.getPropertyValue("color");const u=n.getPropertyValue("position");{const r=e.props.left;let l=0,c=0,p=0;if(p=r.keys[0].val-o.left,"relative"==u){const t=parseFloat(n.getPropertyValue("left"))||0;l=p+t,c=t}else l=t.offsetLeft+p,c=t.offsetLeft;r.keys[0].val=new r.type(l,"px"),r.keys[1].val=new r.type(c,"px"),r.keys[1].dur=s,r.keys[1].len=s,r.keys[1].ease=i,r.duration=s;const d=e.props.top;let f=0,g=0;if(p=d.keys[0].val-o.top,"relative"==u){const t=parseFloat(n.getPropertyValue("top"))||0;f=p+t,g=t}else f=t.offsetTop+p,g=t.offsetTop;d.keys[0].val=new d.type(f,"px"),d.keys[1].val=new d.type(g,"px"),d.keys[1].dur=s,d.keys[1].len=s,d.keys[1].ease=i,d.duration=s,e.props.width.keys[0].val=new e.props.width.type(a),e.props.width.keys[0].dur=s,e.props.width.keys[0].len=s,e.props.width.keys[0].ease=i,e.props.width.duration=s,e.props.height.keys[0].val=new e.props.height.type(h),e.props.height.keys[0].dur=s,e.props.height.keys[0].len=s,e.props.height.keys[0].ease=i,e.props.height.duration=s}t.style.transformOrigin="top left",e.props.backgroundColor.keys[0].val=new e.props.backgroundColor.type(l),e.props.backgroundColor.keys[0].dur=s,e.props.backgroundColor.keys[0].len=s,e.props.backgroundColor.keys[0].ease=i,e.props.backgroundColor.duration=s,e.props.color.keys[0].val=new e.props.color.type(c),e.props.color.keys[0].dur=s,e.props.color.keys[0].len=s,e.props.color.keys[0].ease=i,e.props.color.duration=s,e.obj=t,e.addEventListener("stopped",()=>{e.unsetProps()})}function ae(t,e,s=500,i=ne.linear,r=!1){let n=t.getBoundingClientRect(),o=window.getComputedStyle(t,null),a=(parseFloat(o.getPropertyValue("margin")),ne.createSequence({obj:t,width:{value:"0px"},height:{value:"0px"},backgroundColor:{value:"rgb(1,1,1)"},color:{value:"rgb(1,1,1)"},left:[{value:n.left+"px"},{value:"0px"}],top:[{value:n.top+"px"},{value:"0px"}]}));if(!e){return(e=>(s,i=500,r=ne.linear,n=!1)=>(oe(s,e,i,r,t),e.duration=i,console.log(e.toCSSString("MumboJumbo")),e))(a)}return oe(e,s,i,t),a.duration=s,a}const he=function(){let t=new Map;function e(...e){let s=null,i=e.length,r=0;"number"==typeof e[i-1]&&(r=e[i-1],i--);for(let r=0;r<i;r++){let i=e[r];if("object"==typeof i){if(i.match&&this.TT[i.match]){let t=i.duration,e=i.easing;s=this.TT[i.match](i.obj,t,e)}else s=ne.createSequence(i);if(s&&(this.in_seq.push(s),this.in_duration=Math.max(this.in_duration,s.duration),this.OVERRIDE)){if(t.get(s.obj)){t.get(s.obj).removeProps(s)}t.set(s.obj,s)}}}return this.in_duration=Math.max(this.in_duration,parseInt(r)),this.in}function s(...e){let s=e.length,i=0,r=0;"number"==typeof e[s-1]&&("number"==typeof e[s-2]?(r=e[s-2],i=e[s-1],s-=2):(i=e[s-1],s--));for(let r=0;r<s;r++){let s=e[r];if("object"==typeof s)if(s.match)this.TT[s.match]=ae(s.obj);else{let e=ne.createSequence(s);if(e&&(this.out_seq.push(e),this.out_duration=Math.max(this.out_duration,e.duration),this.OVERRIDE)){if(t.get(e.obj)){t.get(e.obj).removeProps(e)}t.set(e.obj,e)}this.in_delay=Math.max(this.in_delay,parseInt(i))}}}class i{constructor(t=!0){this.in_duration=0,this.out_duration=0,this.PLAY=!0,this.reverse=!1,this.time=0,this.in_delay=0,this.in_seq=[],this.out_seq=[],this.TT={},this.out=s.bind(this),this.in=e.bind(this),Object.defineProperty(this.out,"out_duration",{get:()=>this.out_duration}),this.OVERRIDE=t}destroy(){let e=function(e){e.DESTROYED||t.get(e.obj)==e&&t.delete(e.obj),e.destroy()};this.in_seq.forEach(e),this.out_seq.forEach(e),this.in_seq.length=0,this.out_seq.length=0,this.res=null,this.out=null,this.in=null}get duration(){return Math.max(this.in_duration+this.in_delay,this.out_duration)}async start(t=0,e=1,s=!1){for(let t=0;t<this.in_seq.length;t++);return this.time=t,this.speed=Math.abs(e),this.reverse=s,this.reverse&&(this.speed=-this.speed),new Promise((t,e)=>{if(this.duration>0&&this.scheduledUpdate(0,0),this.duration<1)return t();this.res=t})}play(t){this.PLAY=!0;let e=this.duration*t;return this.step(e),e}stop(){this.PLAY=!1}step(t){for(let e=0;e<this.out_seq.length;e++){let s=this.out_seq[e];s.run(t)||s.FINISHED||(s.issueEvent("stopped"),s.FINISHED=!0)}t=Math.max(t-this.in_delay,0);for(let e=0;e<this.in_seq.length;e++){let s=this.in_seq[e];s.run(t)||s.FINISHED||(s.issueEvent("stopped"),s.FINISHED=!0)}}scheduledUpdate(t,e){if(this.PLAY){if(this.time+=e*this.speed,this.step(this.time),this.res&&this.time>=this.in_delay+this.out_duration&&(this.res(),this.res=null),this.reverse){if(this.time>0)return n.queueUpdate(this)}else if(this.time<this.duration)return n.queueUpdate(this);this.res&&this.res(),this.destroy()}}}return{createTransition:t=>new i(t)}}();Object.assign(ne,{createTransition:(...t)=>he.createTransition(...t),transformTo:(...t)=>ae(...t)});const le="undefined"!=typeof document?document:()=>{},ce=[170,181,186,748,750,895,902,908,1369,1749,1791,1808,1969,2042,2074,2084,2088,2365,2384,2482,2493,2510,2556,2654,2749,2768,2809,2877,2929,2947,2972,3024,3133,3200,3261,3294,3389,3406,3517,3716,3749,3773,3782,3840,4159,4193,4238,4295,4301,4696,4800,6103,6108,6314,6823,7418,8025,8027,8029,8126,8305,8319,8450,8455,8469,8484,8486,8488,8526,11559,11565,11631,11823,13312,19893,19968,40943,43259,43471,43642,43697,43712,43714,44032,55203,64285,64318,67592,67644,68096,69415,69956,70006,70106,70108,70280,70461,70480,70751,70855,71236,71352,71935,72161,72163,72192,72250,72272,72349,72768,73030,73112,94032,94179,94208,100343,119970,119995,120134,123214,125259,126500,126503,126521,126523,126530,126535,126537,126539,126548,126551,126553,126555,126557,126559,126564,126590,131072,173782,173824,177972,177984,178205,178208,183969,183984,191456],ue=[65,90,97,122,192,214,216,246,248,705,710,721,736,740,880,884,886,887,890,893,904,906,910,929,931,1013,1015,1153,1162,1327,1329,1366,1376,1416,1488,1514,1519,1522,1568,1610,1646,1647,1649,1747,1765,1766,1774,1775,1786,1788,1810,1839,1869,1957,1994,2026,2036,2037,2048,2069,2112,2136,2144,2154,2208,2228,2230,2237,2308,2361,2392,2401,2417,2432,2437,2444,2447,2448,2451,2472,2474,2480,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2974,2975,2979,2980,2984,2986,2990,3001,3077,3084,3086,3088,3090,3112,3114,3129,3160,3162,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3412,3414,3423,3425,3450,3455,3461,3478,3482,3505,3507,3515,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3718,3722,3724,3747,3751,3760,3762,3763,3776,3780,3804,3807,3904,3911,3913,3948,3976,3980,4096,4138,4176,4181,4186,4189,4197,4198,4206,4208,4213,4225,4256,4293,4304,4346,4348,4680,4682,4685,4688,4694,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5109,5112,5117,5121,5740,5743,5759,5761,5786,5792,5866,5870,5880,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6176,6264,6272,6276,6279,6312,6320,6389,6400,6430,6480,6509,6512,6516,6528,6571,6576,6601,6656,6678,6688,6740,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7296,7304,7312,7354,7357,7359,7401,7404,7406,7411,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8031,8061,8064,8116,8118,8124,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8336,8348,8458,8467,8473,8477,8490,8493,8495,8505,8508,8511,8517,8521,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11568,11623,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12591,12593,12686,12704,12730,12784,12799,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42653,42656,42735,42775,42783,42786,42888,42891,42943,42946,42950,42999,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43261,43262,43274,43301,43312,43334,43360,43388,43396,43442,43488,43492,43494,43503,43514,43518,43520,43560,43584,43586,43588,43595,43616,43638,43646,43695,43701,43702,43705,43709,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43824,43866,43868,43879,43888,44002,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64287,64296,64298,64310,64312,64316,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500,65536,65547,65549,65574,65576,65594,65596,65597,65599,65613,65616,65629,65664,65786,65856,65908,66176,66204,66208,66256,66304,66335,66349,66378,66384,66421,66432,66461,66464,66499,66504,66511,66513,66517,66560,66717,66736,66771,66776,66811,66816,66855,66864,66915,67072,67382,67392,67413,67424,67431,67584,67589,67594,67637,67639,67640,67647,67669,67680,67702,67712,67742,67808,67826,67828,67829,67840,67861,67872,67897,67968,68023,68030,68031,68112,68115,68117,68119,68121,68149,68192,68220,68224,68252,68288,68295,68297,68324,68352,68405,68416,68437,68448,68466,68480,68497,68608,68680,68736,68786,68800,68850,68864,68899,69376,69404,69424,69445,69600,69622,69635,69687,69763,69807,69840,69864,69891,69926,69968,70002,70019,70066,70081,70084,70144,70161,70163,70187,70272,70278,70282,70285,70287,70301,70303,70312,70320,70366,70405,70412,70415,70416,70419,70440,70442,70448,70450,70451,70453,70457,70493,70497,70656,70708,70727,70730,70784,70831,70852,70853,71040,71086,71128,71131,71168,71215,71296,71338,71424,71450,71680,71723,71840,71903,72096,72103,72106,72144,72203,72242,72284,72329,72384,72440,72704,72712,72714,72750,72818,72847,72960,72966,72968,72969,72971,73008,73056,73061,73063,73064,73066,73097,73440,73458,73728,74649,74752,74862,74880,75075,77824,78894,82944,83526,92160,92728,92736,92766,92880,92909,92928,92975,92992,92995,93027,93047,93053,93071,93760,93823,93952,94026,94099,94111,94176,94177,100352,101106,110592,110878,110928,110930,110948,110951,110960,111355,113664,113770,113776,113788,113792,113800,113808,113817,119808,119892,119894,119964,119966,119967,119973,119974,119977,119980,119982,119993,119997,120003,120005,120069,120071,120074,120077,120084,120086,120092,120094,120121,120123,120126,120128,120132,120138,120144,120146,120485,120488,120512,120514,120538,120540,120570,120572,120596,120598,120628,120630,120654,120656,120686,120688,120712,120714,120744,120746,120770,120772,120779,123136,123180,123191,123197,123584,123627,124928,125124,125184,125251,126464,126467,126469,126495,126497,126498,126505,126514,126516,126519,126541,126543,126545,126546,126561,126562,126567,126570,126572,126578,126580,126583,126585,126588,126592,126601,126603,126619,126625,126627,126629,126633,126635,126651],pe=new Uint16Array(1e5);function de(t,e,...s){for(const i of s)t[i]|=e}function fe(t,e,...s){for(const i of s.reduce((t,e,s)=>(s%2?t[t.length-1].push(e):t.push([e]),t),[])){const s=i[1]+1-i[0],r=[];for(let t=0;t<s;t++)r[t]=i[0]+t;de(t,e,...r)}}pe.fill(0),fe(pe,1,...ue),de(pe,1,...ce),de(pe,2,34,39,96),de(pe,3,32),de(pe,4,9),de(pe,5,13),de(pe,6,10),fe(pe,7,48,57),de(pe,8,33,37,38,42,43,58,60,61,62),de(pe,9,40,91,123),de(pe,10,41,93,125),de(pe,11,16),fe(pe,512,65,90,97,122),fe(pe,512,...ue),de(pe,512,...ce),fe(pe,512,48,57,768,879,1155,1159,1425,1469,1473,1474,1476,1477,1552,1562,1611,1641,1750,1756,1759,1764,1767,1768,1770,1773,1776,1785,1840,1866,1958,1968,1984,1993,2027,2035,2070,2073,2075,2083,2085,2087,2089,2093,2137,2139,2259,2273,2275,2307,2362,2364,2366,2383,2385,2391,2402,2403,2406,2415,2433,2435,2494,2500,2503,2504,2507,2509,2530,2531,2534,2543,2561,2563,2622,2626,2631,2632,2635,2637,2662,2673,2689,2691,2750,2757,2759,2761,2763,2765,2786,2787,2790,2799,2810,2815,2817,2819,2878,2884,2887,2888,2891,2893,2902,2903,2914,2915,2918,2927,3006,3010,3014,3016,3018,3021,3046,3055,3072,3076,3134,3140,3142,3144,3146,3149,3157,3158,3170,3171,3174,3183,3201,3203,3262,3268,3270,3272,3274,3277,3285,3286,3298,3299,3302,3311,3328,3331,3387,3388,3390,3396,3398,3400,3402,3405,3426,3427,3430,3439,3458,3459,3535,3540,3544,3551,3558,3567,3570,3571,3636,3642,3655,3662,3664,3673,3764,3772,3784,3789,3792,3801,3864,3865,3872,3881,3902,3903,3953,3972,3974,3975,3981,3991,3993,4028,4139,4158,4160,4169,4182,4185,4190,4192,4194,4196,4199,4205,4209,4212,4226,4237,4239,4253,4957,4959,5906,5908,5938,5940,5970,5971,6002,6003,6068,6099,6112,6121,6155,6157,6160,6169,6277,6278,6432,6443,6448,6459,6470,6479,6608,6617,6679,6683,6741,6750,6752,6780,6783,6793,6800,6809,6832,6845,6912,6916,6964,6980,6992,7001,7019,7027,7040,7042,7073,7085,7088,7097,7142,7155,7204,7223,7232,7241,7248,7257,7376,7378,7380,7400,7415,7417,7616,7673,7675,7679,8255,8256,8400,8412,8421,8432,11503,11505,11744,11775,12330,12335,12441,12442,42528,42537,42612,42621,42654,42655,42736,42737,43043,43047,43136,43137,43188,43205,43216,43225,43232,43249,43263,43273,43302,43309,43335,43347,43392,43395,43443,43456,43472,43481,43504,43513,43561,43574,43596,43597,43600,43609,43643,43645,43698,43700,43703,43704,43710,43711,43755,43759,43765,43766,44003,44010,44012,44013,44016,44025,65024,65039,65056,65071,65075,65076,65101,65103,65296,65305,66422,66426,66720,66729,68097,68099,68101,68102,68108,68111,68152,68154,68325,68326,68900,68903,68912,68921,69446,69456,69632,69634,69688,69702,69734,69743,69759,69762,69808,69818,69872,69881,69888,69890,69927,69940,69942,69951,69957,69958,70016,70018,70067,70080,70089,70092,70096,70105,70188,70199,70367,70378,70384,70393,70400,70403,70459,70460,70462,70468,70471,70472,70475,70477,70498,70499,70502,70508,70512,70516,70709,70726,70736,70745,70832,70851,70864,70873,71087,71093,71096,71104,71132,71133,71216,71232,71248,71257,71339,71351,71360,71369,71453,71467,71472,71481,71724,71738,71904,71913,72145,72151,72154,72160,72193,72202,72243,72249,72251,72254,72273,72283,72330,72345,72751,72758,72760,72767,72784,72793,72850,72871,72873,72886,73009,73014,73020,73021,73023,73029,73040,73049,73098,73102,73104,73105,73107,73111,73120,73129,73459,73462,92768,92777,92912,92916,92976,92982,93008,93017,94033,94087,94095,94098,113821,113822,119141,119145,119149,119154,119163,119170,119173,119179,119210,119213,119362,119364,120782,120831,121344,121398,121403,121452,121499,121503,121505,121519,122880,122886,122888,122904,122907,122913,122915,122916,122918,122922,123184,123190,123200,123209,123628,123641,125136,125142,125252,125258,125264,125273),de(pe,512,95,1471,1479,1648,1809,2045,2492,2519,2558,2620,2641,2677,2748,2876,2946,3031,3260,3415,3530,3542,3633,3761,3893,3895,3897,4038,6109,6313,7405,7412,8276,8417,11647,42607,43010,43014,43019,43493,43587,43696,43713,64286,65343,66045,66272,68159,70003,70206,70487,70750,72164,72263,73018,73031,94031,121461,121476),fe(pe,2048,48,57);const ge=pe.slice();ge[45]|=512,ge[95]|=512;const _e={num:1,number:1,id:2,identifier:2,str:4,string:4,ws:8,white_space:8,ob:16,open_bracket:16,cb:32,close_bracket:32,op:64,operator:64,sym:128,symbol:128,nl:256,new_line:256,dl:512,data_link:512,alpha_numeric:3,white_space_new_line:264},me=[0,1,28,2,29,14,24,3,30,22,20,15,25,17,4,8,31,27,13,23,21,19,16,7,26,12,18,6,11,5,10,9];class ye{constructor(t="",e=!1,s=!1){if("string"!=typeof t)throw new Error(`String value must be passed to Lexer. A ${typeof t} was passed as the \`string\` argument.`);this.str=t,this.p=null,this.type=32768,this.off=0,this.masked_values=0,this.char=0,this.line=0,this.sl=t.length,this.tl=0,this.IWS=!e,this.USE_EXTENDED_ID=!1,this.PARSE_STRING=!1,this.id_lu=pe,s||this.next()}useExtendedId(){return this.id_lu=ge,this.tl=0,this.next(),this}fence(t=this){if(t.str===this.str)return this.sl=t.off,this}copy(t=new ye(this.str,!1,!0)){return t.off=this.off,t.char=this.char,t.line=this.line,t.sl=this.sl,t.masked_values=this.masked_values,t.id_lu=this.id_lu,t}sync(t=this.p){if(t instanceof ye){if(t.str!==this.str)throw new Error("Cannot sync Lexers with different strings!");this.off=t.off,this.char=t.char,this.line=t.line,this.masked_values=t.masked_values}return this}errorMessage(t=""){const e=this.copy();for(e.IWS=!1;!e.END&&e.ty!==_e.nl;)e.next();const s=e.END?this.str.length:e.off,i=this.line>0?1:0,r=this.str.slice(this.off-this.char+i+i,this.off+i).split("").reduce((t,e)=>t+(9==e.charCodeAt(0)|0),0),n=String.fromCharCode(11145),o=String.fromCharCode(9472),a=String.fromCharCode(9473),h=`    ${this.line+1}: `,l=h.length+r,c=this.str.slice(this.off-this.char+i+i,s).replace(/\t/g,"  "),u=a.repeat(c.length+h.length+2),p=this.IWS?"":"\n The Lexer produced whitespace tokens";return[`${t} at ${this.line+1}:${this.char-i}`,`${u}`,`${h+c}`,`${o.repeat(this.char-i+l-i)+n}`,`${u}`,`${p}`].join("\n")}throw(t,e=!1){const s=new Error(this.errorMessage(t));if(e)return s;throw s}r(){return this.reset()}reset(){return this.p=null,this.type=32768,this.off=0,this.tl=0,this.char=0,this.line=0,this.n,this}resetHead(){this.off=0,this.tl=0,this.char=0,this.line=0,this.p=null,this.type=32768}next(t=this,e=!!this.symbol_map){if(t.sl<1)return t.off=0,t.type=32768,t.tl=0,t.line=0,t.char=0,t;const s=t.sl,i=t.str,r=this.id_lu,n=t.IWS;let o=t.tl,a=t.off+o,h=128,l=t.line,c=a,u=t.char,p=t.off;if(a>=s)return o=0,c=s,t.char=u+(c-t.off),t.type=h,t.off=c,t.tl=0,t.line=l,t;let d=!0;if(e){let t,e=i.charCodeAt(a),s=a,r=this.symbol_map;for(;32==e&&n;)e=i.charCodeAt(++s),a++;for(;t=r.get(e);)r=t,s+=1,e=i.charCodeAt(s);r.IS_SYM&&(d=!1,c=a,o=s-a)}for(;d;){c=a,o=1;const e=i.codePointAt(a);switch(255&r[e]){case 0:h=128;break;case 1:for(;++a<s&&10&r[i.codePointAt(a)]>>8;);h=2,o=a-c;break;case 2:if(this.PARSE_STRING)h=128;else{for(;++a<s&&i.codePointAt(a)!==e;);h=4,o=a-c+1}break;case 3:for(;++a<s&&32===i.codePointAt(a););h=8,o=a-c;break;case 4:for(;++a<s&&9===i[a];);h=8,o=a-c;break;case 5:o=2;case 6:h=256,l++,c=a,p=a,a+=o,u=0;break;case 7:for(;++a<s&&12&r[i.codePointAt(a)]>>8;);("e"==i[a]||"E"==i[a])&&12&r[i.codePointAt(a+1)]>>8&&(a++,"-"==i[a]&&a++,t.off=a,t.tl=0,t.next(),a=t.off+t.tl),h=1,o=a-c;break;case 8:h=64;break;case 9:h=16;break;case 10:h=32;break;case 11:h=512,o=4}if(n&&264&h){if(a<s){h=128;continue}c=s-a,t.sl-=a,o=0}break}return t.type=h,t.off=c,t.tl=64&this.masked_values?Math.min(1,o):o,t.char=u+c-p,t.line=l,t}a(t){return this.assert(t)}assert(t){return this.off<0&&this.throw(`Expecting ${t} got null`),this.text==t?this.next():this.throw(`Expecting "${t}" got "${this.text}"`),this}aC(t){return this.assertCharacter(t)}assertCharacter(t){return this.off<0&&this.throw(`Expecting ${t[0]} got null`),this.ch==t[0]?this.next():this.throw(`Expecting "${t[0]}" got "${this.tx[this.off]}"`),this}peek(t=this,e=this.p){if(!e){if(!t)return null;this.p||(this.p=new ye(this.str,!1,!0),e=this.p)}return e.masked_values=t.masked_values,e.type=t.type,e.off=t.off,e.tl=t.tl,e.char=t.char,e.line=t.line,this.next(e),e}s(t){return this.slice(t)}slice(t=this.off){return t instanceof ye&&(t=t.off),this.str.slice(t,this.off<=t?this.sl:this.off)}comment(t=!1,e=this){if(!(e instanceof ye))return e;if("/"==e.ch)if("*"==e.pk.ch){for(e.sync();!e.END&&("*"!=e.next().ch||"/"!=e.pk.ch););e.sync().assert("/")}else if("/"==e.pk.ch){const t=e.IWS;for(;e.next().ty!=_e.new_line&&!e.END;);e.IWS=t,e.next()}else t&&e.throw("Expecting the start of a comment");return e}setString(t,e=!0){this.str=t,this.sl=t.length,e&&this.resetHead()}toString(){return this.slice()}trim(t=0,e=t){const s=this.copy();let i=0,r=s.off;for(;s.off<s.sl;s.off++){const e=pe[s.string.charCodeAt(s.off)];if(!(e>2&&e<7))break;i>=t?r++:i++}for(s.off=r,i=0,r=s.sl;s.sl>s.off;s.sl--){const t=pe[s.string.charCodeAt(s.sl-1)];if(!(t>2&&t<7))break;i>=e?r--:i++}return s.sl=r,t>0&&(s.IWS=!1),s.token_length=0,s.next(),s}addSymbol(t){this.symbol_map||(this.symbol_map=new Map);let e=this.symbol_map;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s),r=e.get(i);r||(r=e.set(i,new Map).get(i)),e=r}e.IS_SYM=!0}get string(){return this.str}get string_length(){return this.sl-this.off}set string_length(t){}get token(){return this.copy()}get ch(){return this.str[this.off]}get tx(){return this.text}get text(){return this.off<0?"":this.str.slice(this.off,this.off+this.tl)}get ty(){return this.type}get pos(){return this.off}get pk(){return this.peek()}get n(){return this.next()}get END(){return this.off>=this.sl}set END(t){}get type(){return 1<<(15&this.masked_values)}set type(t){this.masked_values=-16&this.masked_values|15&(t=>me[125613361*t>>>27])(t)}get tl(){return this.token_length}set tl(t){this.token_length=t}get token_length(){return(4294967168&this.masked_values)>>7}set token_length(t){this.masked_values=127&this.masked_values|4294967168&(t<<7|0)}get IGNORE_WHITE_SPACE(){return this.IWS}set IGNORE_WHITE_SPACE(t){this.iws=!!t}get CHARACTERS_ONLY(){return!!(64&this.masked_values)}set CHARACTERS_ONLY(t){this.masked_values=-65&this.masked_values|(0|t)<<6}get IWS(){return!!(32&this.masked_values)}set IWS(t){this.masked_values=-33&this.masked_values|(0|t)<<5}get PARSE_STRING(){return!!(16&this.masked_values)}set PARSE_STRING(t){this.masked_values=-17&this.masked_values|(0|t)<<4}get types(){return _e}}function be(t,e=!1){return new ye(t,e)}ye.prototype.addCharacter=ye.prototype.addSymbol,be.constructor=ye,ye.types=_e,be.types=_e;const we=/(?:([a-zA-Z][\dA-Za-z\+\.\-]*)(?:\:\/\/))?(?:([a-zA-Z][\dA-Za-z\+\.\-]*)(?:\:([^\<\>\:\?\[\]\@\/\#\b\s]*)?)?\@)?(?:(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|((?:\[[0-9a-f]{1,4})+(?:\:[0-9a-f]{0,4}){2,7}\])|([^\<\>\:\?\[\]\@\/\#\b\s\.]{2,}(?:\.[^\<\>\:\?\[\]\@\/\#\b\s]*)*))?(?:\:(\d+))?((?:[^\?\[\]\#\s\b]*)+)?(?:\?([^\[\]\#\s\b]*))?(?:\#([^\#\s\b]*))?/i,xe={protocol:"",host:"",port:"",path:"",hash:"",query:"",search:""};class ve{static resolveRelative(t,e=(ve.G?ve.G:document.location.toString())){let s=e instanceof ve?e:new ve(e),i=t instanceof ve?t:new ve(t);if(!(s+""&&i+""))return null;if("/"!=i.path[0]){let t=s.path.split("/"),e=i.path.split("/");".."==e[0]&&t.splice(t.length-1,1);for(let s=0;s<e.length;s++)switch(e[s]){case"..":case".":t.splice(t.length-1,1);break;default:t.push(e[s])}i.path=t.join("/")}return i}constructor(t="",e=!1){let s=!0,i=!1,r="undefined"!=typeof document?document.location:xe;if("undefined"!=typeof Location&&t instanceof Location&&(r=t,t="",i=!0),(!t||"string"!=typeof t)&&(s=!1,i=!0,ve.GLOBAL&&e))return ve.GLOBAL;if(this.protocol="",this.user="",this.pwd="",this.host="",this.port=0,this.path="",this.query="",this.hash="",this.map=null,s)if(t instanceof ve)this.protocol=t.protocol,this.user=t.user,this.pwd=t.pwd,this.host=t.host,this.port=t.port,this.path=t.path,this.query=t.query,this.hash=t.hash;else{let s=t.match(we);if(s[0]!==t)return null;this.protocol=s[1]||(e?r.protocol:""),this.user=s[2]||"",this.pwd=s[3]||"",this.host=s[4]||s[5]||s[6]||(e?r.hostname:""),this.port=parseInt(s[7]||(e?r.port:0)),this.path=s[8]||(e?r.pathname:""),this.query=s[9]||(e?r.search.slice(1):""),this.hash=s[10]||(e?r.hash.slice(1):"")}else if(i&&(this.protocol=r.protocol.replace(/\:/g,""),this.host=r.hostname,this.port=r.port,this.path=r.pathname,this.hash=r.hash.slice(1),this.query=r.search.slice(1),this._getQuery_(this.query),e))return ve.G=this,ve.R;this._getQuery_(this.query)}_getQuery_(){let t=this.map?this.map:this.map=new Map,e=be(this.query);const s=(t,e)=>e.has(t)?e.get(t):e.set(t,new Map).get(t);let i=0,r="",n=s(r,t),o=0;for(;!e.END;)switch(e.tx){case"&":o>0?(n.set(r,e.s(o)),o=0,i=e.n.pos):(r=e.s(i),n=s(r,t),i=e.n.pos);continue;case"=":r=e.s(i),o=e.n.pos;continue}o>0&&n.set(r,e.s(o))}setPath(t){return this.path=t,new ve(this)}setLocation(){history.replaceState({},"replaced state",`${this}`),window.onpopstate()}toString(){let t=[];return this.host&&(this.protocol&&t.push(`${this.protocol}://`),t.push(`${this.host}`)),this.port&&t.push(`:${this.port}`),this.path&&t.push(`${"/"==this.path[0]?"":"/"}${this.path}`),this.query&&t.push(("?"==this.query[0]?"":"?")+this.query),this.hash&&t.push("#"+this.hash),t.join("")}getData(t=""){if(this.map){let e={},s=this.map.get(t);if(s){for(let[t,i]of s.entries())e[t]=i;return e}}return null}setData(t=null,e=""){if(t){let s=this.map=new Map,i=s.has(e)?s.get(e):s.set(e,new Map).get(e);for(let e in t)void 0!==t[e]&&"object"!=typeof t[e]?i.set(e,t[e]):i.delete(e);let r,n="";if((r=s.get(""))&&r.size>0)for(let[t,e]of r.entries())n+=`&${t}=${e}`;for(let[t,e]of s.entries())if(""!==t&&e.size>0){n+=`&${t}`;for(let[t,s]of e.entries())n+=`&${t}=${s}`}n=n.slice(1),this.query=this.query.split("?")[0]+"?"+n,ve.G==this&&this.goto()}else this.query="";return this}fetchText(t=!0){if(t){let t=ve.RC.get(this.path);if(t)return new Promise(e=>{e(t)})}return function(t,e="same-origin"){return new Promise((s,i)=>{fetch(t,{mode:e,credentials:e,method:"GET"}).then(t=>{t.status<200||t.status>299?t.text().then(i):t.text().then(s)}).catch(t=>i(t))})}(this.path).then(t=>(ve.RC.set(this.path,t),t))}fetchJSON(t=!0){let e=this.toString();if(t){let t=ve.RC.get(e);if(t)return new Promise(e=>{e(t)})}return function(t,e="same-origin"){return new Promise((s,i)=>{fetch(t,{mode:e,credentials:e,method:"GET"}).then(t=>{t.status<200||t.status>299?t.json().then(i):t.json().then(s).catch(i)}).catch(t=>i(t))})}(e).then(t=>(ve.RC.set(this.path,t),t))}cacheResource(t){let e=ve.RC.has(this.path);return ve.RC.set(this.path,t),e}submitForm(t){return function(t,e,s="same-origin"){return new Promise((i,r)=>{var n;if(e instanceof FormData)n=e;else{n=new FormData;for(let t in e)n.append(t,e[t]+"")}fetch(t,{mode:s,credentials:s,method:"POST",body:n}).then(t=>{t.status<200||t.status>299?t.text().then(r):t.json().then(i)}).catch(t=>t.text().then(r))})}(this.toString(),t)}submitJSON(t,e){return function(t,e,s="same-origin"){return new Promise((i,r)=>{fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"},mode:s,credentials:s,method:"POST",body:JSON.stringify(e)}).then(t=>{t.status<200||t.status>299?t.json().then(r):t.json().then(i)}).catch(t=>t.text().then(r))})}(this.toString(),t,e)}goto(){}get file(){return this.path.split("/").pop()}get filename(){return this.file.split(".").shift()}get dir(){return this.path.split("/").slice(0,-1).join("/")||"/"}get pathname(){return this.path}get href(){return this.toString()}get ext(){const t=this.path.match(/\.([^\.]*)$/);return t?t[1]:""}get search(){return this.query}}ve.RC=new Map,ve.G=null,ve.R={get protocol(){return ve.G.protocol},set protocol(t){},get user(){return ve.G.user},set user(t){},get pwd(){return ve.G.pwd},set pwd(t){},get host(){return ve.G.host},set host(t){},get port(){return ve.G.port},set port(t){},get path(){return ve.G.path},set path(t){},get query(){return ve.G.query},set query(t){},get hash(){return ve.G.hash},set hash(t){},get map(){return ve.G.map},set map(t){},setPath:t=>ve.G.setPath(t),setLocation:()=>ve.G.setLocation(),toString:()=>ve.G.toString(),getData:(t="")=>ve.G.getData(""),setData:(t="",e=null)=>ve.G.setData(t,e),fetchText:(t=!0)=>ve.G.fetchText(t),cacheResource:t=>ve.G.cacheResource(t)};let ke=null;ve.simulate=function(){ke=new Map,ve.prototype.fetchText=async t=>(t=this.toString(),ke.get(t)?ke.get(t):""),ve.prototype.fetchJSON=async t=>(t=this.toString(),ke.get(t)?JSON.parse(ke.get(t).toString()):{})},ve.addResource=(t,e)=>t&&e&&(ke||(ke=new Map))&&ke.set(t.toString(),e.toString),ve.polyfill=async function(){if("undefined"!=typeof global){const t=(await import("fs")).promises,e=await import("path");global.Location=class extends ve{},global.document=global.document||{},global.document.location=new ve(process.cwd()+"/"),global.fetch=async(s,i)=>{let r=e.resolve(process.cwd(),""+s),n=await t.readFile(r,"utf8");try{return{status:200,text:()=>({then:t=>t(n)})}}catch(t){throw t}}}},Object.freeze(ve.R),Object.freeze(ve.RC),Object.seal(ve);let Se=null;class Ee{constructor(t){t||(t={}),this.options={INJECT_ERROR_HANDLER_INTO_SUBFUNCTIONS:!1},this.components={},this.custom_components={},this.custom_scopes={},this.schemes={},this.models={},this.templates={},this.custom=t.custom||{glow:ne};let e=t.options;if(e)for(let t in e)this.options[t]=e[t];if(e=t.components,e)for(let t in e)this.components[t]=e[t];if(e=t.custom_scopes,e)for(let t in e)t instanceof CustomComponent&&(this.custom_scopes[t]=e[t]);if(e=t.custom_components,e)for(let t in e)this.custom_components[t]=e[t];if(e=t.models,e)for(let t in e)this.models[t]=e[t];if(e=t.schemas,e)for(let t in e)this.schemas[t]=e[t];this.options.USE_SHADOW=!!t.USE_SHADOW&&(le.head.createShadowRoot||le.head.attachShadow),this.options.USE_SHADOWED_STYLE=t.USE_SHADOWED_STYLE&&this.options.USE_SHADOW,this.url=ve,Object.freeze(this.options),Object.freeze(this.custom_scopes),Object.freeze(this.schemas),Object.freeze(this.models),Se=this}processLink(t){}copy(){const t={};for(let e in this)"components"==e?t.components=this.components:"object"==typeof this[e]?t[e]=Object.assign({},this[e]):"array"==typeof this[e]?t[e]=this[e].slice():t[e]=this[e];const e=new Ee(t);return e.processLink=this.processLink.bind(this),e}}function Ae(t,e,s){const i=t-e*s;return{row:Math.floor(i/s),col:t%s}}Ee.global={get v(){return Se},set v(t){}};class De{constructor(t,e,s,i,r){this.wl=r,this.scope=t,this.parent=t,this.component=s,this.ele=e,this.activeScopes=[],this.dom_scopes=[],this.filters=[],this.ios=[],this.terms=[],this.scopes=[],this.dom_dn=[],this.dom_up=[],this.transition_in=0,this._SCHD_=0,this.root=0,this.shift_amount=1,this.limit=0,this.offset=0,this.offset_diff=0,this.offset_fractional=0,this.scrub_velocity=0,this.observering=null,this.trs_ascending=null,this.trs_descending=null,this.UPDATE_FILTER=!1,this.DOM_UP_APPENDED=!1,this.DOM_DN_APPENDED=!1,this.AUTO_SCRUB=!1,this.LOADED=!1,this.glow=r.glow,this.spark=r.spark}destroy(){this.destroyed(),this.observering&&(this.observering.removeObserver(this),this.observering=null)}destroyed(){this.cull();for(const t of this.filters)t.destroy()}load(t){if(this.observering&&(this.observering.removeObserver(this),this.observering=null),t.addObserver)return this.observering=t,t.addObserver(this);t&&(Array.isArray(t)?this.cull(t):this.cull(t.data),this.loadAcknowledged())}loadAcknowledged(){this.LOADED||(this.LOADED=!0,this.parent.loadAcknowledged())}scheduledUpdate(){if(this.SCRUBBING){if(!this.AUTO_SCRUB)return void(this.SCRUBBING=!1);if(Math.abs(this.scrub_velocity)>1e-4){if(this.scrub(this.scrub_velocity)){this.scrub_velocity*=this.drag;const t=this.offset+this.scrub_velocity;(t<0||t>this.max)&&(this.scrub_velocity=0),this.spark.queueUpdate(this)}}else this.scrub_velocity=0,this.scrub(1/0),this.SCRUBBING=!1}else this.forceMount(),this.arrange(),this.render(),this.offset_diff=0}forceMount(){const t=this.limit,e=this.offset,s=Math.min(e+this.offset_diff,e)*this.shift_amount,i=Math.max(e+this.offset_diff,e)*this.shift_amount+t;let r=s;this.ele.innerHTML="";const n=this.activeScopes.length;for(this.dom_scopes.length=0;r<i&&r<n;){const t=this.activeScopes[r++];this.dom_scopes.push(t),t.appendToDOM(this.ele)}}scrub(t,e=!0){this.SCRUBBING||this.render(null,this.activeScopes,!0),this.SCRUBBING=!0,this.AUTO_SCRUB&&!e&&t!=1/0&&(this.scrub_velocity=0,this.AUTO_SCRUB=!1);let s=t+this.offset_fractional;if(t!==1/0){if(Math.abs(s)>1&&(s>1?(s%=1,this.offset_fractional=s,this.scrub_velocity=t,this.offset<this.max&&this.trs_ascending.play(1),this.offset++,this.offset_diff=1,this.render(null,this.activeScopes,!0).play(1)):(s%=1,this.offset_fractional=s,this.scrub_velocity=t,this.offset>=1&&this.trs_descending.play(1),this.offset--,this.offset_diff=-1,this.render(null,this.activeScopes,!0).play(1))),s>0){if(this.offset+s>=this.max-1&&(s=0),!this.DOM_UP_APPENDED){for(let t=0;t<this.dom_up.length;t++)this.dom_up[t].appendToDOM(this.ele),this.dom_up[t].index=-1,this.dom_scopes.push(this.dom_up[t]);this.DOM_UP_APPENDED=!0}this.trs_ascending.play(s)}else{if(this.offset<1&&(s=0),!this.DOM_DN_APPENDED){for(let t=0;t<this.dom_dn.length;t++)this.dom_dn[t].appendToDOM(this.ele,this.dom_scopes[0].ele),this.dom_dn[t].index=-1;this.dom_scopes=this.dom_dn.concat(this.dom_scopes),this.DOM_DN_APPENDED=!0}this.trs_descending.play(-s)}return this.offset_fractional=s,this.scrub_velocity=t,!0}if(Math.abs(this.scrub_velocity)>1e-4){const t=Math.sign(this.scrub_velocity);Math.abs(this.scrub_velocity)<.1&&(this.scrub_velocity=.1*t),Math.abs(this.scrub_velocity)>.5&&(this.scrub_velocity=.5*t),this.AUTO_SCRUB=!0;const e=2*this.scrub_velocity;let s=this.offset+this.offset_fractional+e;s=this.scrub_velocity>0?Math.min(this.max,Math.ceil(s)):Math.max(0,Math.floor(s));const i=s-(this.offset+this.offset_fractional),r=Math.abs(1-1/(i/this.scrub_velocity));return this.drag=r,this.scrub_velocity=this.scrub_velocity,this.SCRUBBING=!0,this.spark.queueUpdate(this),!0}return this.offset+=Math.round(this.offset_fractional),this.scrub_velocity=0,this.offset_fractional=0,this.render(null,this.activeScopes,!0).play(1),this.SCRUBBING=!1,!1}arrange(t=this.activeScopes){const e=this.limit,s=this.offset,i=this.glow.createTransition(),r=t.length,n=s*this.shift_amount;let o=0;for(;o<n&&o<r;)t[o].update({trs_asc_out:{trs:i.in,pos:Ae(o,s,this.shift_amount)}},null,!1,{IMMEDIATE:!0}),o++;for(;o<n+e&&o<r;)t[o].update({arrange:{trs:i.in,pos:Ae(o,s,this.shift_amount)}},null,!1,{IMMEDIATE:!0}),o++;for(;o<r;)t[o].update({trs_dec_out:{trs:i.in,pos:Ae(o,s,this.shift_amount)}},null,!1,{IMMEDIATE:!0}),o++;i.play(1)}render(t,e=this.activeScopes,s=!1){const i=this.limit,r=this.dom_scopes.length;let n=0,o=1,a=this.offset,h=e.length,l=!1;t||(t=this.glow.createTransition(),l=!0),a=Math.max(0,a);const c=a*this.shift_amount;if(o=Math.sign(this.offset_diff),i>0){this.shift_amount=Math.max(1,Math.min(i,this.shift_amount));let t=0,s=0;const r=[],n=Math.ceil(h/this.shift_amount);for(this.max=n-1,this.offset=Math.max(0,Math.min(n-1,a)),this.trs_ascending=glow.createTransition(!1),this.trs_descending=glow.createTransition(!1),this.dom_dn.length=0,this.dom_up.length=0,this.DOM_UP_APPENDED=!1,this.DOM_DN_APPENDED=!1;t<c-this.shift_amount;)e[t++].index=-2;for(;t<c;)this.dom_dn.push(e[t]),e[t].update({trs_dec_in:{trs:this.trs_descending.in,pos:Ae(t,this.offset-1,this.shift_amount)}}),e[t++].index=-2;for(;t<c+i&&t<h;)s<this.shift_amount&&++s?e[t].update({trs_asc_out:{trs:this.trs_ascending.out,pos:Ae(t,this.offset+1,this.shift_amount)}}):e[t].update({arrange:{trs:this.trs_ascending.in,pos:Ae(t,this.offset+1,this.shift_amount)}}),t>=c+i-this.shift_amount?e[t].update({trs_dec_out:{trs:this.trs_descending.out,pos:Ae(t,this.offset-1,this.shift_amount)}}):e[t].update({arrange:{trs:this.trs_descending.in,pos:Ae(t,this.offset-1,this.shift_amount)}}),e[t].index=t,r.push(e[t++]);for(;t<c+i+this.shift_amount&&t<h;)this.dom_up.push(e[t]),e[t].update({trs_asc_in:{pos:Ae(t,this.offset+1,this.shift_amount),trs:this.trs_ascending.in}}),e[t++].index=-3;for(;t<h;)e[t++].index=-3;e=r,h=r.length}else this.max=0,this.limit=0;const u={trs:t.in,index:0},p={trs:t.out,index:0};for(let t=0;t<h;t++)e[t].index=t;for(let t=0;t<r;t++){const i=this.dom_scopes[t];if(i.index>n)for(;n<i.index&&n<h;){const t=e[n];t.index=-1,u.pos=Ae(n,this.offset,this.shift_amount),t.appendToDOM(this.ele,i.ele),t.transitionIn(Object.assign({},u),o?"trs_asc_in":"trs_dec_in"),n++}else if(i.index<0){if(p.pos=Ae(t,0,this.shift_amount),s)i.transitionOut();else switch(i.index){case-2:case-3:i.transitionOut(Object.assign({},p),!1,o>0?"trs_asc_out":"trs_dec_out");break;default:i.transitionOut(Object.assign({},p))}continue}u.pos=Ae(n++,0,this.shift_amount),i.update({arrange:Object.assign({},p)},null,!1,{IMMEDIATE:!0}),i._TRANSITION_STATE_=!0,i.index=-1}for(;n<e.length;)e[n].appendToDOM(this.ele),e[n].index=-1,u.pos=Ae(n,this.offset,this.shift_amount),e[n].transitionIn(Object.assign({},u),"arrange"),n++;if(this.ele.style.position=this.ele.style.position,this.dom_scopes=e.slice(),this.parent.update({template_count_changed:{displayed:h,offset:a,count:this.activeScopes.length,pages:this.max,ele:this.ele,template:this,trs:t.in}}),l){if(s)return t;t.start()}return t}filterUpdate(){let t=this.scopes.slice();if(!(t.length<1)){for(let e=0,s=this.filters.length;e<s;e++){const s=this.filters[e];s.ARRAY_ACTION&&(t=s.action(t))}return this.activeScopes=t,this.UPDATE_FILTER=!1,t}}filterExpressionUpdate(t=this.glow.createTransition()){this.filterUpdate(),this.limitExpressionUpdate(t)}limitExpressionUpdate(t=this.glow.createTransition()){this.arrange(),this.render(t),this.SCRUBBING||t.start()}cull(t=[]){const e=this.wl.glow.createTransition();if(0==t.length){const t=this.activeScopes.length;let s={trs:e.out,pos:null};for(let e=0;e<t;e++)s.pos=Ae(e,this.offset,this.shift_amount),this.activeScopes[e].transitionOut(s,!0);this.scopes.length=0,this.activeScopes.length=0,this.parent.e("template_count_changed",{displayed:0,offset:0,count:0,pages:0,ele:this.ele,template:this,trs:e.in}),this.SCRUBBING||e.start()}else{const s=new Map(t.map(t=>[t,!0])),i=[];for(let t=0,e=this.activeScopes.length;t<e;t++)s.has(this.activeScopes[t].model)&&s.set(this.activeScopes[t].model,!1);for(let t=0,i=this.scopes.length;t<i;t++)s.has(this.scopes[t].model)?s.set(this.scopes[t].model,!1):(this.scopes[t].transitionOut(e,!0,"dismounting"),this.scopes[t].index=-1,this.scopes.splice(t,1),i--,t--);if(s.forEach((t,e)=>{t&&i.push(e)}),i.length>0)this.added(i,e);else for(let t=0,s=0,i=this.activeScopes.length;t<i;t++,s++)this.activeScopes[t]._TRANSITION_STATE_?s!==t&&this.activeScopes[t].update({arrange:{pos:Ae(t,this.offset,this.shift_amount),trs:e.in}}):(this.activeScopes.splice(t,1),t--,i--);this.filterExpressionUpdate(e)}}removed(t,e=this.glow.createTransition()){for(const s of t){let t=0;for(const i of this.scopes)if(i.model==s){this.scopes.splice(t++,1),i.transitionOut(e,!0);break}}this.filterExpressionUpdate(e)}added(t,e){let s=!1;e||(e=this.glow.createTransition(),s=!0);for(let e=0;e<t.length;e++){const s=this.component.mount(null,t[e]);this.scopes.push(s),this.parent.addScope(s),s.update({loaded:!0})}s&&this.filterExpressionUpdate(e)}down(t,e){for(let s=0,i=this.activeScopes.length;s<i;s++)this.activeScopes[s].down(t,e)}}De.prototype.l=De.prototype.load;function Ne(t,e,s,i){let r=0,n=0;for(const i of e)void 0!==t[i]&&(s[r]=t[i],n|=1<<r),r++;return n}let Te=new Ee;const Oe=new Map;return{set presets(t){Te=new Ee(t)},get c(){return Te.custom},glow:ne,spark:n,sc:class{constructor(t,e,...s){this.m=t,this.wl=e,this.el=s.map(e=>function t(e,s){return 1==s.length?e:t(e.children[s[1]],s.slice(1))}(t,e)),this.n=[],this.v=[],this.f=[],this.g=[],this.scopes=[],this.gates=[],this.pen=new Set,this.gf=0,this.parent=null,this.model=null,this.model_name="",this.scheme_name="",this.PENDING_LOADS=0,this.DESTROYED=!1}destroy(){if(!this.DESTROYED){for(const t of this.scopes)t.destroy();this.scopes=null,this.nm=null,this.gates=null,this.vals=null,this.pen=null,this.DESTROYED=!0,this.LOADED=!1}}load(t){this.update({loading:!0});let e=null,s=null;const i=this.wl.presets,r=this.model_name,n=this.scheme_name;r&&i.models&&(e=i.models[r]),n&&i.schemas&&(s=i.schemas[n]),e?t=e:s&&(t=new s);for(const e of this.scopes)e.load(t);t&&(t.addObserver&&t.addObserver(this),this.model=t,this.e({model_loaded:!0}),this.update(this.model)),setTimeout(this.loadAcknowledged.bind(this),1)}loadAcknowledged(){!this.LOADED&&--this.PENDING_LOADS<=0&&(this.LOADED=!0,this.update({loaded:!0}),this.parent&&this.parent.loadAcknowledged&&this.parent.loadAcknowledged())}addScope(t){t.parent!=this&&(t.parent=this,this.scopes.push(t),this.PENDING_LOADS++,this.model&&this.model.removeObserver&&this.model.removeObserver(this))}addToParent(t){t&&t.addScope(this)}get element(){return this.m}set element(t){}e(t){const e=this.g.length,s={},i={};let r=!1;for(let n=0;n<e;n++){const e=this.n[n],o=t[e],a=this.g[n];void 0!==o&&(2&a?(r=!0,s[e]=o):i[e]=o,4&a&&(this.model[e]=o))}r&&this.parent&&this.parent.e(s),this.update(i)}down(t){if(this.NO_IMPORT)return;const e=this.g.length,s={};let i=!1;for(let r=0;r<e;r++){const e=this.n[r],n=t[e],o=this.g[r];void 0!==n&&(1&o&&(i=!0,s[e]=n),4&o&&(this.model[e]=n))}i&&this.update(s)}update(t,e){if(this.DESTROYED)return;e&&this.update(e);const s=this,i=s.v,r=s.n,n=s.pen,o=Ne(t,r,i);let a=s.gf|=o;for(const e of s.f){const h=e.r,l=e.a;if(e.S){if((l&o)>0||n.has(e)){const o=r[e.o];"object"==typeof t[o]&&(a|=Ne(t[o],r,i)),(h&a)==h?(e.f.call(s),n.has(e)&&n.delete(e)):n.add(e)}}else(h&o)>0&&(a&h)==h&&e.f.call(s,s)}s.gf|=a;for(const e of this.scopes)e.down(t)}removeFromDOM(){1!=this.CONNECTED&&(this.update({disconnecting:!0}),this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.update({disconnected:!0}))}appendToDOM(t,e){this.update({connecting:!0}),this.CONNECTED=!0,e?t.insertBefore(this.element,e):t.appendChild(this.element),this.update({connected:!0})}transitionIn(t,e="trs_in"){t&&this.update({[e]:t},null,!1,{IMMEDIATE:!0}),this.TRANSITIONED_IN=!0}transitionOut(t,e=!1,s="trs_out"){if(this.CONNECTED=!1,!1===this.TRANSITIONED_IN)return this.removeFromDOM(),void(e&&this.destroy());let i=0;return t&&(this.update({[s]:t},null,!1,{IMMEDIATE:!0}),i=t.trs?t.trs.out_duration:t.out_duration),this.TRANSITIONED_IN=!1,i=Math.max(i,0),setTimeout(()=>{this.removeFromDOM(),e&&this.destroy()},i+2),i}},gt:t=>document.getElementById(t),lc(t,e,s){Oe.set(t,{constructor:s,template:e})},cc(t,e=null){if(Oe.has(t)){const s=Oe.get(t),i=e||document.importNode(s.template.content.firstElementChild,!0);return new s.constructor(i,this)}return null},ctr(t,e,s,...i){return function(t,e,s,i,...r){return new De(t,e,{mount:(t,e,r)=>((r=i.cc(s)).load(e),r)},r,i)}(t,e,s,this,...i)}}}();
